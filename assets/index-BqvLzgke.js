(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(c){if(c.ep)return;c.ep=!0;const l=e(c);fetch(c.href,l)}})();(function(a,t){const e=J,n=a();for(;;)try{if(-parseInt(e(479))/1+parseInt(e(472))/2*(parseInt(e(499))/3)+parseInt(e(470))/4*(-parseInt(e(466))/5)+parseInt(e(480))/6*(parseInt(e(487))/7)+-parseInt(e(489))/8*(parseInt(e(478))/9)+-parseInt(e(497))/10*(parseInt(e(476))/11)+parseInt(e(491))/12===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Et,846125);const wt=[{name:"黄色",r:255,g:255,b:0,value:226},{name:"绿色",r:41,g:204,b:20,value:150},{name:"蓝色",r:0,g:0,b:255,value:29},{name:"红色",r:255,g:0,b:0,value:76},{name:"黑色",r:0,g:0,b:0,value:0},{name:"白色",r:255,g:255,b:255,value:255}],gn=[{name:"黑色",r:0,g:0,b:0,value:0},{name:"白色",r:255,g:255,b:255,value:1},{name:"红色",r:255,g:0,b:0,value:3},{name:"黄色",r:255,g:255,b:0,value:2}],Le=[{name:"黑色",r:0,g:0,b:0,value:0},{name:"白色",r:255,g:255,b:255,value:1},{name:"红色",r:255,g:0,b:0,value:2}],Ft=[{name:"黑色",r:0,g:0,b:0,value:0},{name:"白色",r:255,g:255,b:255,value:1}];function Et(){const a=["pow","46286928AOolHS","threeColor","ceil","atkinson","floydSteinberg","sixColor","560YLJLqi","jarvis","687vEdCCI","3655ypvPda","set","fourColor","max","8436qgrKAu","width","2006amoWNI","floor","min","height","274098IFteXM","find","666RCAkCA","47879QsXkwi","49404pjQnrR","bayer","round","slice","length","blackWhiteColor","data","70FXEwJT","value","36560WWDuqS"];return Et=function(){return a},Et()}function pn(a,t){const e=J,n=a[e(486)],c=(t-1)*128;for(let l=0;l<n[e(484)];l+=4)n[l]=Math[e(474)](255,Math[e(469)](0,n[l]+c)),n[l+1]=Math[e(474)](255,Math[e(469)](0,n[l+1]+c)),n[l+2]=Math.min(255,Math[e(469)](0,n[l+2]+c));return a}function yn(a,t){const e=J,n=a[e(486)];for(let c=0;c<n[e(484)];c+=4)n[c]=Math.min(255,Math[e(469)](0,(n[c]-128)*t+128)),n[c+1]=Math[e(474)](255,Math[e(469)](0,(n[c+1]-128)*t+128)),n[c+2]=Math[e(474)](255,Math.max(0,(n[c+2]-128)*t+128));return a}function J(a,t){const e=Et();return J=function(n,c){return n=n-466,e[n]},J(a,t)}function Xt(a,t,e){const n=J;a=a/255,t=t/255,e=e/255,a=a>.04045?Math[n(490)]((a+.055)/1.055,2.4):a/12.92,t=t>.04045?Math[n(490)]((t+.055)/1.055,2.4):t/12.92,e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a*=100,t*=100,e*=100;let c=a*.4124+t*.3576+e*.1805,l=a*.2126+t*.7152+e*.0722,s=a*.0193+t*.1192+e*.9505;c/=95.047,l/=100,s/=108.883,c=c>.008856?Math[n(490)](c,1/3):7.787*c+16/116,l=l>.008856?Math[n(490)](l,1/3):7.787*l+16/116,s=s>.008856?Math[n(490)](s,1/3):7.787*s+16/116;const f=116*l-16,u=500*(c-l),r=200*(l-s);return{l:f,a:u,b:r}}function vn(a,t){const e=a.l-t.l,n=a.a-t.a,c=a.b-t.b;return Math.sqrt(.2*e*e+3*n*n+3*c*c)}function Me(a,t,e,n){const c=J;let l;if(n===c(468)?l=gn:n===c(492)?l=Le:n===c(485)?l=Ft:l=wt,n==="blackWhiteColor")return .299*a+.587*t+.114*e<128?Ft[0]:Ft[1];if(n!==c(468)&&n!=="threeColor"&&a<50&&t<150&&e>100)return wt[2];if(n===c(492))return a>120&&a>t*1.5&&a>e*1.5?Le[2]:.299*a+.587*t+.114*e<128?Le[0]:Le[1];const s=Xt(a,t,e);let f=1/0,u=l[0];for(const r of l){const i=Xt(r.r,r.g,r.b),o=vn(s,i);o<f&&(f=o,u=r)}return u}function bn(a,t,e,n,c,l){const s=J;a[t]=Math[s(474)](255,Math[s(469)](0,a[t]+e*l)),a[t+1]=Math[s(474)](255,Math[s(469)](0,a[t+1]+n*l)),a[t+2]=Math.min(255,Math.max(0,a[t+2]+c*l))}function It(a,t,e,n,c=!1){const l=a.width,s=a.height,f=a.data,u=new Uint8ClampedArray(f);for(let r=0;r<s;r++)for(let i=0;i<l;i++){const o=(r*l+i)*4,x=u[o],h=u[o+1],d=u[o+2],_=Me(x,h,d,e);c&&(f[o]=_.r,f[o+1]=_.g,f[o+2]=_.b);const p=(x-_.r)*t,w=(h-_.g)*t,O=(d-_.b)*t;for(const[C,q,N]of n){const H=i+C,y=r+q;if(H>=0&&H<l&&y>=0&&y<s){const m=(y*l+H)*4;bn(u,m,p,w,O,N)}}}if(!c)for(let r=0;r<s;r++)for(let i=0;i<l;i++){const o=(r*l+i)*4,x=Me(u[o],u[o+1],u[o+2],e);f[o]=x.r,f[o+1]=x.g,f[o+2]=x.b}return a}function mn(a,t,e){return It(a,t,e,[[1,0,.4375],[-1,1,.1875],[0,1,.3125],[1,1,.0625]],!1)}function wn(a,t,e){return It(a,t,e,[[1,0,.125],[2,0,.125],[-1,1,.125],[0,1,.125],[1,1,.125],[0,2,.125]],!0)}function En(a,t,e){return It(a,t,e,[[1,0,.19047619047619047],[2,0,.09523809523809523],[-2,1,.047619047619047616],[-1,1,.09523809523809523],[0,1,.19047619047619047],[1,1,.09523809523809523],[2,1,.047619047619047616],[-2,2,.023809523809523808],[-1,2,.047619047619047616],[0,2,.09523809523809523],[1,2,.047619047619047616],[2,2,.023809523809523808]],!1)}function On(a,t,e){return It(a,t,e,[[1,0,.14583333333333334],[2,0,.10416666666666667],[-2,1,.0625],[-1,1,.10416666666666667],[0,1,.14583333333333334],[1,1,.10416666666666667],[2,1,.0625],[-2,2,.020833333333333332],[-1,2,.0625],[0,2,.10416666666666667],[1,2,.0625],[2,2,.020833333333333332]],!0)}function An(a,t,e){const n=J,c=a[n(471)],l=a[n(475)],s=a[n(486)],f=[[0,32,8,40,2,34,10,42],[48,16,56,24,50,18,58,26],[12,44,4,36,14,46,6,38],[60,28,52,20,62,30,54,22],[3,35,11,43,1,33,9,41],[51,19,59,27,49,17,57,25],[15,47,7,39,13,45,5,37],[63,31,55,23,61,29,53,21]],u=8,r=64;for(let i=0;i<l;i++)for(let o=0;o<c;o++){const x=(i*c+o)*4,h=s[x],d=s[x+1],_=s[x+2],p=o%u,w=i%u,O=f[w][p]/r*255,C=h+(O-127.5)*t,q=d+(O-127.5)*t,N=_+(O-127.5)*t,H=Math.min(255,Math[n(469)](0,C)),y=Math[n(474)](255,Math[n(469)](0,q)),m=Math[n(474)](255,Math.max(0,N)),g=Me(H,y,m,e);s[x]=g.r,s[x+1]=g.g,s[x+2]=g.b}return a}function J0(a,t,e,n){const c=J;switch(t){case c(495):return mn(a,e,n);case c(494):return wn(a,e,n);case"stucki":return En(a,e,n);case c(498):return On(a,e,n);case c(481):return An(a,e,n);case"none":default:return a}}function Q0(a,t,e,n){const c=J,l=new ImageData(t,e),s=l.data;if(n===c(496))for(let f=0;f<e;f++)for(let u=0;u<t;u++){const r=u*e+(e-1-f),i=a[r],o=wt[c(477)](h=>h.value===i)||wt[5],x=(f*t+u)*4;s[x]=o.r,s[x+1]=o.g,s[x+2]=o.b,s[x+3]=255}else if(n===c(468)){const f=[{value:0,r:0,g:0,b:0},{value:1,r:255,g:255,b:255},{value:3,r:255,g:0,b:0},{value:2,r:255,g:255,b:0}];for(let u=0;u<e;u++)for(let r=0;r<t;r++){const i=(u*t+r)/4|0,o=6-r%4*2,x=a[i]>>o&3,h=f[c(477)](_=>_[c(488)]===x)||f[1],d=(u*t+r)*4;s[d]=h.r,s[d+1]=h.g,s[d+2]=h.b,s[d+3]=255}}else if(n===c(485)){const f=Math[c(493)](t/8);for(let u=0;u<e;u++)for(let r=0;r<t;r++){const i=u*f+Math.floor(r/8),o=7-r%8,x=a[i]>>o&1,h=(u*t+r)*4;s[h]=x?255:0,s[h+1]=x?255:0,s[h+2]=x?255:0,s[h+3]=255}}else if(n===c(492)){const f=Math[c(493)](t/8),u=a[c(483)](0,f*e),r=a[c(483)](f*e);for(let i=0;i<e;i++)for(let o=0;o<t;o++){const x=i*f+Math[c(473)](o/8),h=7-o%8,d=u[x]>>h&1,_=r[x]>>h&1,p=(i*t+o)*4;_?(s[p]=d?255:0,s[p+1]=d?255:0,s[p+2]=d?255:0):(s[p]=255,s[p+1]=0,s[p+2]=0),s[p+3]=255}}return l}function Rt(a,t){const e=J,n=a.width,c=a[e(475)],l=a[e(486)];let s;if(t===e(496)){s=new Uint8Array(n*c);for(let f=0;f<c;f++)for(let u=0;u<n;u++){const r=(f*n+u)*4,i=l[r],o=l[r+1],x=l[r+2],h=Me(i,o,x,t),d=u*c+(c-1-f);s[d]=h[e(488)]}}else if(t===e(468)){s=new Uint8Array(Math[e(493)](n*c/4));for(let f=0;f<c;f++)for(let u=0;u<n;u++){const r=(f*n+u)*4,i=l[r],o=l[r+1],x=l[r+2],h=Me(i,o,x,t),d=h[e(488)],_=(f*n+u)/4|0,p=6-u%4*2;s[_]|=d<<p}}else if(t===e(485)){const f=Math[e(493)](n/8);s=new Uint8Array(f*c);const u=140;for(let r=0;r<c;r++)for(let i=0;i<n;i++){const o=(r*n+i)*4,x=l[o],h=l[o+1],d=l[o+2],_=Math.round(.299*x+.587*h+.114*d),p=_>=u?1:0,w=r*f+Math[e(473)](i/8),O=7-i%8;s[w]|=p<<O}}else if(t===e(492)){const f=Math.ceil(n/8),u=140,r=160,i=new Uint8Array(c*f),o=new Uint8Array(c*f);for(let x=0;x<c;x++)for(let h=0;h<n;h++){const d=(x*n+h)*4,_=l[d],p=l[d+1],w=l[d+2],O=Math[e(482)](.299*_+.587*p+.114*w),C=O>=u?1:0,q=x*f+Math[e(473)](h/8),N=7-h%8;C?i[q]|=1<<N:i[q]&=~(1<<N);const H=_>r&&_>p&&_>w?0:1,y=x*f+Math[e(473)](h/8),m=7-h%8;H?o[y]|=1<<m:o[y]&=~(1<<m)}s=new Uint8Array(i[e(484)]+o[e(484)]),s[e(467)](i,0),s[e(467)](o,i[e(484)])}return s}const ve=function(a,t){let c=a;const l=Se[t];let s=null,f=0,u=null;const r=[],i={},o=function(y,m){f=c*4+17,s=(function(g){const b=new Array(g);for(let v=0;v<g;v+=1){b[v]=new Array(g);for(let E=0;E<g;E+=1)b[v][E]=null}return b})(f),x(0,0),x(f-7,0),x(0,f-7),_(),d(),w(y,m),c>=7&&p(y),u==null&&(u=q(c,l,r)),O(u,m)},x=function(y,m){for(let g=-1;g<=7;g+=1)if(!(y+g<=-1||f<=y+g))for(let b=-1;b<=7;b+=1)m+b<=-1||f<=m+b||(0<=g&&g<=6&&(b==0||b==6)||0<=b&&b<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=b&&b<=4?s[y+g][m+b]=!0:s[y+g][m+b]=!1)},h=function(){let y=0,m=0;for(let g=0;g<8;g+=1){o(!0,g);const b=xe.getLostPoint(i);(g==0||y>b)&&(y=b,m=g)}return m},d=function(){for(let y=8;y<f-8;y+=1)s[y][6]==null&&(s[y][6]=y%2==0);for(let y=8;y<f-8;y+=1)s[6][y]==null&&(s[6][y]=y%2==0)},_=function(){const y=xe.getPatternPosition(c);for(let m=0;m<y.length;m+=1)for(let g=0;g<y.length;g+=1){const b=y[m],v=y[g];if(s[b][v]==null)for(let E=-2;E<=2;E+=1)for(let A=-2;A<=2;A+=1)E==-2||E==2||A==-2||A==2||E==0&&A==0?s[b+E][v+A]=!0:s[b+E][v+A]=!1}},p=function(y){const m=xe.getBCHTypeNumber(c);for(let g=0;g<18;g+=1){const b=!y&&(m>>g&1)==1;s[Math.floor(g/3)][g%3+f-8-3]=b}for(let g=0;g<18;g+=1){const b=!y&&(m>>g&1)==1;s[g%3+f-8-3][Math.floor(g/3)]=b}},w=function(y,m){const g=l<<3|m,b=xe.getBCHTypeInfo(g);for(let v=0;v<15;v+=1){const E=!y&&(b>>v&1)==1;v<6?s[v][8]=E:v<8?s[v+1][8]=E:s[f-15+v][8]=E}for(let v=0;v<15;v+=1){const E=!y&&(b>>v&1)==1;v<8?s[8][f-v-1]=E:v<9?s[8][15-v-1+1]=E:s[8][15-v-1]=E}s[f-8][8]=!y},O=function(y,m){let g=-1,b=f-1,v=7,E=0;const A=xe.getMaskFunction(m);for(let I=f-1;I>0;I-=2)for(I==6&&(I-=1);;){for(let D=0;D<2;D+=1)if(s[b][I-D]==null){let B=!1;E<y.length&&(B=(y[E]>>>v&1)==1),A(b,I-D)&&(B=!B),s[b][I-D]=B,v-=1,v==-1&&(E+=1,v=7)}if(b+=g,b<0||f<=b){b-=g,g=-g;break}}},C=function(y,m){let g=0,b=0,v=0;const E=new Array(m.length),A=new Array(m.length);for(let M=0;M<m.length;M+=1){const F=m[M].dataCount,V=m[M].totalCount-F;b=Math.max(b,F),v=Math.max(v,V),E[M]=new Array(F);for(let te=0;te<E[M].length;te+=1)E[M][te]=255&y.getBuffer()[te+g];g+=F;const Bt=xe.getErrorCorrectPolynomial(V),Gt=Ie(E[M],Bt.getLength()-1).mod(Bt);A[M]=new Array(Bt.getLength()-1);for(let te=0;te<A[M].length;te+=1){const Ht=te+Gt.getLength()-A[M].length;A[M][te]=Ht>=0?Gt.getAt(Ht):0}}let I=0;for(let M=0;M<m.length;M+=1)I+=m[M].totalCount;const D=new Array(I);let B=0;for(let M=0;M<b;M+=1)for(let F=0;F<m.length;F+=1)M<E[F].length&&(D[B]=E[F][M],B+=1);for(let M=0;M<v;M+=1)for(let F=0;F<m.length;F+=1)M<A[F].length&&(D[B]=A[F][M],B+=1);return D},q=function(y,m,g){const b=Vt.getRSBlocks(y,m),v=zt();for(let A=0;A<g.length;A+=1){const I=g[A];v.put(I.getMode(),4),v.put(I.getLength(),xe.getLengthInBits(I.getMode(),y)),I.write(v)}let E=0;for(let A=0;A<b.length;A+=1)E+=b[A].dataCount;if(v.getLengthInBits()>E*8)throw"code length overflow. ("+v.getLengthInBits()+">"+E*8+")";for(v.getLengthInBits()+4<=E*8&&v.put(0,4);v.getLengthInBits()%8!=0;)v.putBit(!1);for(;!(v.getLengthInBits()>=E*8||(v.put(236,8),v.getLengthInBits()>=E*8));)v.put(17,8);return C(v,b)};i.addData=function(y,m){m=m||"Byte";let g=null;switch(m){case"Numeric":g=Sn(y);break;case"Alphanumeric":g=Tn(y);break;case"Byte":g=Mn(y);break;case"Kanji":g=In(y);break;default:throw"mode:"+m}r.push(g),u=null},i.isDark=function(y,m){if(y<0||f<=y||m<0||f<=m)throw y+","+m;return s[y][m]},i.getModuleCount=function(){return f},i.make=function(){if(c<1){let y=1;for(;y<40;y++){const m=Vt.getRSBlocks(y,l),g=zt();for(let v=0;v<r.length;v++){const E=r[v];g.put(E.getMode(),4),g.put(E.getLength(),xe.getLengthInBits(E.getMode(),y)),E.write(g)}let b=0;for(let v=0;v<m.length;v++)b+=m[v].dataCount;if(g.getLengthInBits()<=b*8)break}c=y}o(!1,h())},i.createTableTag=function(y,m){y=y||2,m=typeof m>"u"?y*4:m;let g="";g+='<table style="',g+=" border-width: 0px; border-style: none;",g+=" border-collapse: collapse;",g+=" padding: 0px; margin: "+m+"px;",g+='">',g+="<tbody>";for(let b=0;b<i.getModuleCount();b+=1){g+="<tr>";for(let v=0;v<i.getModuleCount();v+=1)g+='<td style="',g+=" border-width: 0px; border-style: none;",g+=" border-collapse: collapse;",g+=" padding: 0px; margin: 0px;",g+=" width: "+y+"px;",g+=" height: "+y+"px;",g+=" background-color: ",g+=i.isDark(b,v)?"#000000":"#ffffff",g+=";",g+='"/>';g+="</tr>"}return g+="</tbody>",g+="</table>",g},i.createSvgTag=function(y,m,g,b){let v={};typeof arguments[0]=="object"&&(v=arguments[0],y=v.cellSize,m=v.margin,g=v.alt,b=v.title),y=y||2,m=typeof m>"u"?y*4:m,g=typeof g=="string"?{text:g}:g||{},g.text=g.text||null,g.id=g.text?g.id||"qrcode-description":null,b=typeof b=="string"?{text:b}:b||{},b.text=b.text||null,b.id=b.text?b.id||"qrcode-title":null;const E=i.getModuleCount()*y+m*2;let A,I,D,B,M="",F;for(F="l"+y+",0 0,"+y+" -"+y+",0 0,-"+y+"z ",M+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',M+=v.scalable?"":' width="'+E+'px" height="'+E+'px"',M+=' viewBox="0 0 '+E+" "+E+'" ',M+=' preserveAspectRatio="xMinYMin meet"',M+=b.text||g.text?' role="img" aria-labelledby="'+N([b.id,g.id].join(" ").trim())+'"':"",M+=">",M+=b.text?'<title id="'+N(b.id)+'">'+N(b.text)+"</title>":"",M+=g.text?'<description id="'+N(g.id)+'">'+N(g.text)+"</description>":"",M+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',M+='<path d="',D=0;D<i.getModuleCount();D+=1)for(B=D*y+m,A=0;A<i.getModuleCount();A+=1)i.isDark(D,A)&&(I=A*y+m,M+="M"+I+","+B+F);return M+='" stroke="transparent" fill="black"/>',M+="</svg>",M},i.createDataURL=function(y,m){y=y||2,m=typeof m>"u"?y*4:m;const g=i.getModuleCount()*y+m*2,b=m,v=g-m;return Cn(g,g,function(E,A){if(b<=E&&E<v&&b<=A&&A<v){const I=Math.floor((E-b)/y),D=Math.floor((A-b)/y);return i.isDark(D,I)?0:1}else return 1})},i.createImgTag=function(y,m,g){y=y||2,m=typeof m>"u"?y*4:m;const b=i.getModuleCount()*y+m*2;let v="";return v+="<img",v+=' src="',v+=i.createDataURL(y,m),v+='"',v+=' width="',v+=b,v+='"',v+=' height="',v+=b,v+='"',g&&(v+=' alt="',v+=N(g),v+='"'),v+="/>",v};const N=function(y){let m="";for(let g=0;g<y.length;g+=1){const b=y.charAt(g);switch(b){case"<":m+="&lt;";break;case">":m+="&gt;";break;case"&":m+="&amp;";break;case'"':m+="&quot;";break;default:m+=b;break}}return m},H=function(y){y=typeof y>"u"?2:y;const g=i.getModuleCount()*1+y*2,b=y,v=g-y;let E,A,I,D,B;const M={"██":"█","█ ":"▀"," █":"▄","  ":" "},F={"██":"▀","█ ":"▀"," █":" ","  ":" "};let V="";for(E=0;E<g;E+=2){for(I=Math.floor((E-b)/1),D=Math.floor((E+1-b)/1),A=0;A<g;A+=1)B="█",b<=A&&A<v&&b<=E&&E<v&&i.isDark(I,Math.floor((A-b)/1))&&(B=" "),b<=A&&A<v&&b<=E+1&&E+1<v&&i.isDark(D,Math.floor((A-b)/1))?B+=" ":B+="█",V+=y<1&&E+1>=v?F[B]:M[B];V+=`
`}return g%2&&y>0?V.substring(0,V.length-g-1)+Array(g+1).join("▀"):V.substring(0,V.length-1)};return i.createASCII=function(y,m){if(y=y||1,y<2)return H(m);y-=1,m=typeof m>"u"?y*2:m;const g=i.getModuleCount()*y+m*2,b=m,v=g-m;let E,A,I,D;const B=Array(y+1).join("██"),M=Array(y+1).join("  ");let F="",V="";for(E=0;E<g;E+=1){for(I=Math.floor((E-b)/y),V="",A=0;A<g;A+=1)D=1,b<=A&&A<v&&b<=E&&E<v&&i.isDark(I,Math.floor((A-b)/y))&&(D=0),V+=D?B:M;for(I=0;I<y;I+=1)F+=V+`
`}return F.substring(0,F.length-1)},i.renderTo2dContext=function(y,m){m=m||2;const g=i.getModuleCount();for(let b=0;b<g;b++)for(let v=0;v<g;v++)y.fillStyle=i.isDark(b,v)?"black":"white",y.fillRect(v*m,b*m,m,m)},i};ve.stringToBytes=function(a){const t=[];for(let e=0;e<a.length;e+=1){const n=a.charCodeAt(e);t.push(n&255)}return t};ve.createStringToBytes=function(a,t){const e=(function(){const c=Pn(a),l=function(){const u=c.read();if(u==-1)throw"eof";return u};let s=0;const f={};for(;;){const u=c.read();if(u==-1)break;const r=l(),i=l(),o=l(),x=String.fromCharCode(u<<8|r),h=i<<8|o;f[x]=h,s+=1}if(s!=t)throw s+" != "+t;return f})(),n=63;return function(c){const l=[];for(let s=0;s<c.length;s+=1){const f=c.charCodeAt(s);if(f<128)l.push(f);else{const u=e[c.charAt(s)];typeof u=="number"?(u&255)==u?l.push(u):(l.push(u>>>8),l.push(u&255)):l.push(n)}}return l}};const $={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Se={L:1,M:0,Q:3,H:2},ae={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},xe=(function(){const a=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],t=1335,e=7973,n=21522,c={},l=function(s){let f=0;for(;s!=0;)f+=1,s>>>=1;return f};return c.getBCHTypeInfo=function(s){let f=s<<10;for(;l(f)-l(t)>=0;)f^=t<<l(f)-l(t);return(s<<10|f)^n},c.getBCHTypeNumber=function(s){let f=s<<12;for(;l(f)-l(e)>=0;)f^=e<<l(f)-l(e);return s<<12|f},c.getPatternPosition=function(s){return a[s-1]},c.getMaskFunction=function(s){switch(s){case ae.PATTERN000:return function(f,u){return(f+u)%2==0};case ae.PATTERN001:return function(f,u){return f%2==0};case ae.PATTERN010:return function(f,u){return u%3==0};case ae.PATTERN011:return function(f,u){return(f+u)%3==0};case ae.PATTERN100:return function(f,u){return(Math.floor(f/2)+Math.floor(u/3))%2==0};case ae.PATTERN101:return function(f,u){return f*u%2+f*u%3==0};case ae.PATTERN110:return function(f,u){return(f*u%2+f*u%3)%2==0};case ae.PATTERN111:return function(f,u){return(f*u%3+(f+u)%2)%2==0};default:throw"bad maskPattern:"+s}},c.getErrorCorrectPolynomial=function(s){let f=Ie([1],0);for(let u=0;u<s;u+=1)f=f.multiply(Ie([1,oe.gexp(u)],0));return f},c.getLengthInBits=function(s,f){if(1<=f&&f<10)switch(s){case $.MODE_NUMBER:return 10;case $.MODE_ALPHA_NUM:return 9;case $.MODE_8BIT_BYTE:return 8;case $.MODE_KANJI:return 8;default:throw"mode:"+s}else if(f<27)switch(s){case $.MODE_NUMBER:return 12;case $.MODE_ALPHA_NUM:return 11;case $.MODE_8BIT_BYTE:return 16;case $.MODE_KANJI:return 10;default:throw"mode:"+s}else if(f<41)switch(s){case $.MODE_NUMBER:return 14;case $.MODE_ALPHA_NUM:return 13;case $.MODE_8BIT_BYTE:return 16;case $.MODE_KANJI:return 12;default:throw"mode:"+s}else throw"type:"+f},c.getLostPoint=function(s){const f=s.getModuleCount();let u=0;for(let o=0;o<f;o+=1)for(let x=0;x<f;x+=1){let h=0;const d=s.isDark(o,x);for(let _=-1;_<=1;_+=1)if(!(o+_<0||f<=o+_))for(let p=-1;p<=1;p+=1)x+p<0||f<=x+p||_==0&&p==0||d==s.isDark(o+_,x+p)&&(h+=1);h>5&&(u+=3+h-5)}for(let o=0;o<f-1;o+=1)for(let x=0;x<f-1;x+=1){let h=0;s.isDark(o,x)&&(h+=1),s.isDark(o+1,x)&&(h+=1),s.isDark(o,x+1)&&(h+=1),s.isDark(o+1,x+1)&&(h+=1),(h==0||h==4)&&(u+=3)}for(let o=0;o<f;o+=1)for(let x=0;x<f-6;x+=1)s.isDark(o,x)&&!s.isDark(o,x+1)&&s.isDark(o,x+2)&&s.isDark(o,x+3)&&s.isDark(o,x+4)&&!s.isDark(o,x+5)&&s.isDark(o,x+6)&&(u+=40);for(let o=0;o<f;o+=1)for(let x=0;x<f-6;x+=1)s.isDark(x,o)&&!s.isDark(x+1,o)&&s.isDark(x+2,o)&&s.isDark(x+3,o)&&s.isDark(x+4,o)&&!s.isDark(x+5,o)&&s.isDark(x+6,o)&&(u+=40);let r=0;for(let o=0;o<f;o+=1)for(let x=0;x<f;x+=1)s.isDark(x,o)&&(r+=1);const i=Math.abs(100*r/f/f-50)/5;return u+=i*10,u},c})(),oe=(function(){const a=new Array(256),t=new Array(256);for(let n=0;n<8;n+=1)a[n]=1<<n;for(let n=8;n<256;n+=1)a[n]=a[n-4]^a[n-5]^a[n-6]^a[n-8];for(let n=0;n<255;n+=1)t[a[n]]=n;const e={};return e.glog=function(n){if(n<1)throw"glog("+n+")";return t[n]},e.gexp=function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return a[n]},e})(),Ie=function(a,t){if(typeof a.length>"u")throw a.length+"/"+t;const e=(function(){let c=0;for(;c<a.length&&a[c]==0;)c+=1;const l=new Array(a.length-c+t);for(let s=0;s<a.length-c;s+=1)l[s]=a[s+c];return l})(),n={};return n.getAt=function(c){return e[c]},n.getLength=function(){return e.length},n.multiply=function(c){const l=new Array(n.getLength()+c.getLength()-1);for(let s=0;s<n.getLength();s+=1)for(let f=0;f<c.getLength();f+=1)l[s+f]^=oe.gexp(oe.glog(n.getAt(s))+oe.glog(c.getAt(f)));return Ie(l,0)},n.mod=function(c){if(n.getLength()-c.getLength()<0)return n;const l=oe.glog(n.getAt(0))-oe.glog(c.getAt(0)),s=new Array(n.getLength());for(let f=0;f<n.getLength();f+=1)s[f]=n.getAt(f);for(let f=0;f<c.getLength();f+=1)s[f]^=oe.gexp(oe.glog(c.getAt(f))+l);return Ie(s,0).mod(c)},n},Vt=(function(){const a=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(c,l){const s={};return s.totalCount=c,s.dataCount=l,s},e={},n=function(c,l){switch(l){case Se.L:return a[(c-1)*4+0];case Se.M:return a[(c-1)*4+1];case Se.Q:return a[(c-1)*4+2];case Se.H:return a[(c-1)*4+3];default:return}};return e.getRSBlocks=function(c,l){const s=n(c,l);if(typeof s>"u")throw"bad rs block @ typeNumber:"+c+"/errorCorrectionLevel:"+l;const f=s.length/3,u=[];for(let r=0;r<f;r+=1){const i=s[r*3+0],o=s[r*3+1],x=s[r*3+2];for(let h=0;h<i;h+=1)u.push(t(o,x))}return u},e})(),zt=function(){const a=[];let t=0;const e={};return e.getBuffer=function(){return a},e.getAt=function(n){const c=Math.floor(n/8);return(a[c]>>>7-n%8&1)==1},e.put=function(n,c){for(let l=0;l<c;l+=1)e.putBit((n>>>c-l-1&1)==1)},e.getLengthInBits=function(){return t},e.putBit=function(n){const c=Math.floor(t/8);a.length<=c&&a.push(0),n&&(a[c]|=128>>>t%8),t+=1},e},Sn=function(a){const t=$.MODE_NUMBER,e=a,n={};n.getMode=function(){return t},n.getLength=function(s){return e.length},n.write=function(s){const f=e;let u=0;for(;u+2<f.length;)s.put(c(f.substring(u,u+3)),10),u+=3;u<f.length&&(f.length-u==1?s.put(c(f.substring(u,u+1)),4):f.length-u==2&&s.put(c(f.substring(u,u+2)),7))};const c=function(s){let f=0;for(let u=0;u<s.length;u+=1)f=f*10+l(s.charAt(u));return f},l=function(s){if("0"<=s&&s<="9")return s.charCodeAt(0)-48;throw"illegal char :"+s};return n},Tn=function(a){const t=$.MODE_ALPHA_NUM,e=a,n={};n.getMode=function(){return t},n.getLength=function(l){return e.length},n.write=function(l){const s=e;let f=0;for(;f+1<s.length;)l.put(c(s.charAt(f))*45+c(s.charAt(f+1)),11),f+=2;f<s.length&&l.put(c(s.charAt(f)),6)};const c=function(l){if("0"<=l&&l<="9")return l.charCodeAt(0)-48;if("A"<=l&&l<="Z")return l.charCodeAt(0)-65+10;switch(l){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+l}};return n},Mn=function(a){const t=$.MODE_8BIT_BYTE,e=ve.stringToBytes(a),n={};return n.getMode=function(){return t},n.getLength=function(c){return e.length},n.write=function(c){for(let l=0;l<e.length;l+=1)c.put(e[l],8)},n},In=function(a){const t=$.MODE_KANJI,e=ve.stringToBytes;(function(l,s){const f=e(l);if(f.length!=2||(f[0]<<8|f[1])!=s)throw"sjis not supported."})("友",38726);const n=e(a),c={};return c.getMode=function(){return t},c.getLength=function(l){return~~(n.length/2)},c.write=function(l){const s=n;let f=0;for(;f+1<s.length;){let u=(255&s[f])<<8|255&s[f+1];if(33088<=u&&u<=40956)u-=33088;else if(57408<=u&&u<=60351)u-=49472;else throw"illegal char at "+(f+1)+"/"+u;u=(u>>>8&255)*192+(u&255),l.put(u,13),f+=2}if(f<s.length)throw"illegal char at "+(f+1)},c},K0=function(){const a=[],t={};return t.writeByte=function(e){a.push(e&255)},t.writeShort=function(e){t.writeByte(e),t.writeByte(e>>>8)},t.writeBytes=function(e,n,c){n=n||0,c=c||e.length;for(let l=0;l<c;l+=1)t.writeByte(e[l+n])},t.writeString=function(e){for(let n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},t.toByteArray=function(){return a},t.toString=function(){let e="";e+="[";for(let n=0;n<a.length;n+=1)n>0&&(e+=","),e+=a[n];return e+="]",e},t},Rn=function(){let a=0,t=0,e=0,n="";const c={},l=function(f){n+=String.fromCharCode(s(f&63))},s=function(f){if(f<0)throw"n:"+f;if(f<26)return 65+f;if(f<52)return 97+(f-26);if(f<62)return 48+(f-52);if(f==62)return 43;if(f==63)return 47;throw"n:"+f};return c.writeByte=function(f){for(a=a<<8|f&255,t+=8,e+=1;t>=6;)l(a>>>t-6),t-=6},c.flush=function(){if(t>0&&(l(a<<6-t),a=0,t=0),e%3!=0){const f=3-e%3;for(let u=0;u<f;u+=1)n+="="}},c.toString=function(){return n},c},Pn=function(a){const t=a;let e=0,n=0,c=0;const l={};l.read=function(){for(;c<8;){if(e>=t.length){if(c==0)return-1;throw"unexpected end of file./"+c}const u=t.charAt(e);if(e+=1,u=="=")return c=0,-1;if(u.match(/^\s$/))continue;n=n<<6|s(u.charCodeAt(0)),c+=6}const f=n>>>c-8&255;return c-=8,f};const s=function(f){if(65<=f&&f<=90)return f-65;if(97<=f&&f<=122)return f-97+26;if(48<=f&&f<=57)return f-48+52;if(f==43)return 62;if(f==47)return 63;throw"c:"+f};return l},kn=function(a,t){const e=a,n=t,c=new Array(a*t),l={};l.setPixel=function(r,i,o){c[i*e+r]=o},l.write=function(r){r.writeString("GIF87a"),r.writeShort(e),r.writeShort(n),r.writeByte(128),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(0),r.writeByte(255),r.writeByte(255),r.writeByte(255),r.writeString(","),r.writeShort(0),r.writeShort(0),r.writeShort(e),r.writeShort(n),r.writeByte(0);const i=2,o=f(i);r.writeByte(i);let x=0;for(;o.length-x>255;)r.writeByte(255),r.writeBytes(o,x,255),x+=255;r.writeByte(o.length-x),r.writeBytes(o,x,o.length-x),r.writeByte(0),r.writeString(";")};const s=function(r){const i=r;let o=0,x=0;const h={};return h.write=function(d,_){if(d>>>_)throw"length over";for(;o+_>=8;)i.writeByte(255&(d<<o|x)),_-=8-o,d>>>=8-o,x=0,o=0;x=d<<o|x,o=o+_},h.flush=function(){o>0&&i.writeByte(x)},h},f=function(r){const i=1<<r,o=(1<<r)+1;let x=r+1;const h=u();for(let O=0;O<i;O+=1)h.add(String.fromCharCode(O));h.add(String.fromCharCode(i)),h.add(String.fromCharCode(o));const d=K0(),_=s(d);_.write(i,x);let p=0,w=String.fromCharCode(c[p]);for(p+=1;p<c.length;){const O=String.fromCharCode(c[p]);p+=1,h.contains(w+O)?w=w+O:(_.write(h.indexOf(w),x),h.size()<4095&&(h.size()==1<<x&&(x+=1),h.add(w+O)),w=O)}return _.write(h.indexOf(w),x),_.write(o,x),_.flush(),d.toByteArray()},u=function(){const r={};let i=0;const o={};return o.add=function(x){if(o.contains(x))throw"dup key:"+x;r[x]=i,i+=1},o.size=function(){return i},o.indexOf=function(x){return r[x]},o.contains=function(x){return typeof r[x]<"u"},o};return l},Cn=function(a,t,e){const n=kn(a,t);for(let f=0;f<t;f+=1)for(let u=0;u<a;u+=1)n.setPixel(u,f,e(u,f));const c=K0();n.write(c);const l=Rn(),s=c.toByteArray();for(let f=0;f<s.length;f+=1)l.writeByte(s[f]);return l.flush(),"data:image/gif;base64,"+l};ve.stringToBytes;function Dn(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Ne={},be={},je={},Wt;function Y(){if(Wt)return je;Wt=1,Object.defineProperty(je,"__esModule",{value:!0});function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var t=function e(n,c){a(this,e),this.data=n,this.text=c.text||n,this.options=c};return je.default=t,je}var Yt;function Bn(){if(Yt)return be;Yt=1,Object.defineProperty(be,"__esModule",{value:!0}),be.CODE39=void 0;var a=(function(){function _(p,w){for(var O=0;O<w.length;O++){var C=w[O];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,w,O){return w&&_(p.prototype,w),O&&_(p,O),p}})(),t=Y(),e=n(t);function n(_){return _&&_.__esModule?_:{default:_}}function c(_,p){if(!(_ instanceof p))throw new TypeError("Cannot call a class as a function")}function l(_,p){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:_}function s(_,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);_.prototype=Object.create(p&&p.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(_,p):_.__proto__=p)}var f=(function(_){s(p,_);function p(w,O){return c(this,p),w=w.toUpperCase(),O.mod43&&(w+=x(d(w))),l(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,w,O))}return a(p,[{key:"encode",value:function(){for(var O=i("*"),C=0;C<this.data.length;C++)O+=i(this.data[C])+"0";return O+=i("*"),{data:O,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),p})(e.default),u=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],r=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function i(_){return o(h(_))}function o(_){return r[_].toString(2)}function x(_){return u[_]}function h(_){return u.indexOf(_)}function d(_){for(var p=0,w=0;w<_.length;w++)p+=h(_[w]);return p=p%43,p}return be.CODE39=f,be}var Q={},qe={},Ue={},j={},Jt;function Ce(){if(Jt)return j;Jt=1,Object.defineProperty(j,"__esModule",{value:!0});var a;function t(u,r,i){return r in u?Object.defineProperty(u,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):u[r]=i,u}var e=j.SET_A=0,n=j.SET_B=1,c=j.SET_C=2;j.SHIFT=98;var l=j.START_A=103,s=j.START_B=104,f=j.START_C=105;return j.MODULO=103,j.STOP=106,j.FNC1=207,j.SET_BY_CODE=(a={},t(a,l,e),t(a,s,n),t(a,f,c),a),j.SWAP={101:e,100:n,99:c},j.A_START_CHAR="Ð",j.B_START_CHAR="Ñ",j.C_START_CHAR="Ò",j.A_CHARS="[\0-_È-Ï]",j.B_CHARS="[ -È-Ï]",j.C_CHARS="(Ï*[0-9]{2}Ï*)",j.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011],j}var Qt;function Pt(){if(Qt)return Ue;Qt=1,Object.defineProperty(Ue,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=Y(),e=c(t),n=Ce();function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(o,x){l(this,i);var h=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o.substring(1),x));return h.bytes=o.split("").map(function(d){return d.charCodeAt(0)}),h}return a(i,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.bytes,h=x.shift()-105,d=n.SET_BY_CODE[h];if(d===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&x.unshift(n.FNC1);var _=i.next(x,1,d);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:i.getBar(h)+_.result+i.getBar((_.checksum+h)%n.MODULO)+i.getBar(n.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var x=this.options.ean128||!1;return typeof x=="string"&&(x=x.toLowerCase()==="true"),x}}],[{key:"getBar",value:function(x){return n.BARS[x]?n.BARS[x].toString():""}},{key:"correctIndex",value:function(x,h){if(h===n.SET_A){var d=x.shift();return d<32?d+64:d-32}else return h===n.SET_B?x.shift()-32:(x.shift()-48)*10+x.shift()-48}},{key:"next",value:function(x,h,d){if(!x.length)return{result:"",checksum:0};var _=void 0,p=void 0;if(x[0]>=200){p=x.shift()-105;var w=n.SWAP[p];w!==void 0?_=i.next(x,h+1,w):((d===n.SET_A||d===n.SET_B)&&p===n.SHIFT&&(x[0]=d===n.SET_A?x[0]>95?x[0]-96:x[0]:x[0]<32?x[0]+96:x[0]),_=i.next(x,h+1,d))}else p=i.correctIndex(x,d),_=i.next(x,h+1,d);var O=i.getBar(p),C=p*h;return{result:O+_.result,checksum:C+_.checksum}}}]),i})(e.default);return Ue.default=u,Ue}var $e={},Kt;function Fn(){if(Kt)return $e;Kt=1,Object.defineProperty($e,"__esModule",{value:!0});var a=Ce(),t=function(f){return f.match(new RegExp("^"+a.A_CHARS+"*"))[0].length},e=function(f){return f.match(new RegExp("^"+a.B_CHARS+"*"))[0].length},n=function(f){return f.match(new RegExp("^"+a.C_CHARS+"*"))[0]};function c(s,f){var u=f?a.A_CHARS:a.B_CHARS,r=s.match(new RegExp("^("+u+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+"Ì"+l(s.substring(r[1].length));var i=s.match(new RegExp("^"+u+"+"))[0];return i.length===s.length?s:i+String.fromCharCode(f?205:206)+c(s.substring(i.length),!f)}function l(s){var f=n(s),u=f.length;if(u===s.length)return s;s=s.substring(u);var r=t(s)>=e(s);return f+String.fromCharCode(r?206:205)+c(s,r)}return $e.default=function(s){var f=void 0,u=n(s).length;if(u>=2)f=a.C_START_CHAR+l(s);else{var r=t(s)>e(s);f=(r?a.A_START_CHAR:a.B_START_CHAR)+c(s,r)}return f.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,o){return"Ë"+o})},$e}var Zt;function Ln(){if(Zt)return qe;Zt=1,Object.defineProperty(qe,"__esModule",{value:!0});var a=Pt(),t=c(a),e=Fn(),n=c(e);function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(o,x){if(l(this,i),/^[\x00-\x7F\xC8-\xD3]+$/.test(o))var h=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,(0,n.default)(o),x));else var h=s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,x));return s(h)}return i})(t.default);return qe.default=u,qe}var Ge={},e0;function Nn(){if(e0)return Ge;e0=1,Object.defineProperty(Ge,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=Pt(),e=c(t),n=Ce();function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(o,x){return l(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n.A_START_CHAR+o,x))}return a(i,[{key:"valid",value:function(){return new RegExp("^"+n.A_CHARS+"+$").test(this.data)}}]),i})(e.default);return Ge.default=u,Ge}var He={},t0;function jn(){if(t0)return He;t0=1,Object.defineProperty(He,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=Pt(),e=c(t),n=Ce();function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(o,x){return l(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n.B_START_CHAR+o,x))}return a(i,[{key:"valid",value:function(){return new RegExp("^"+n.B_CHARS+"+$").test(this.data)}}]),i})(e.default);return He.default=u,He}var Xe={},n0;function qn(){if(n0)return Xe;n0=1,Object.defineProperty(Xe,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=Pt(),e=c(t),n=Ce();function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(o,x){return l(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n.C_START_CHAR+o,x))}return a(i,[{key:"valid",value:function(){return new RegExp("^"+n.C_CHARS+"+$").test(this.data)}}]),i})(e.default);return Xe.default=u,Xe}var r0;function Un(){if(r0)return Q;r0=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.CODE128C=Q.CODE128B=Q.CODE128A=Q.CODE128=void 0;var a=Ln(),t=u(a),e=Nn(),n=u(e),c=jn(),l=u(c),s=qn(),f=u(s);function u(r){return r&&r.__esModule?r:{default:r}}return Q.CODE128=t.default,Q.CODE128A=n.default,Q.CODE128B=l.default,Q.CODE128C=f.default,Q}var G={},Ve={},ne={},i0;function De(){return i0||(i0=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.SIDE_BIN="101",ne.MIDDLE_BIN="01010",ne.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},ne.EAN2_STRUCTURE=["LL","LG","GL","GG"],ne.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],ne.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]),ne}var ze={},We={},a0;function Be(){if(a0)return We;a0=1,Object.defineProperty(We,"__esModule",{value:!0});var a=De(),t=function(n,c,l){var s=n.split("").map(function(u,r){return a.BINARIES[c[r]]}).map(function(u,r){return u?u[n[r]]:""});if(l){var f=n.length-1;s=s.map(function(u,r){return r<f?u+l:u})}return s.join("")};return We.default=t,We}var x0;function Z0(){if(x0)return ze;x0=1,Object.defineProperty(ze,"__esModule",{value:!0});var a=(function(){function o(x,h){for(var d=0;d<h.length;d++){var _=h[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,h,d){return h&&o(x.prototype,h),d&&o(x,d),x}})(),t=De(),e=Be(),n=s(e),c=Y(),l=s(c);function s(o){return o&&o.__esModule?o:{default:o}}function f(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}function u(o,x){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:o}function r(o,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);o.prototype=Object.create(x&&x.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(o,x):o.__proto__=x)}var i=(function(o){r(x,o);function x(h,d){f(this,x);var _=u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,h,d));return _.fontSize=!d.flat&&d.fontSize>d.width*10?d.width*10:d.fontSize,_.guardHeight=d.height+_.fontSize/2+d.textMargin,_}return a(x,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(d,_){return this.text.substr(d,_)}},{key:"leftEncode",value:function(d,_){return(0,n.default)(d,_)}},{key:"rightText",value:function(d,_){return this.text.substr(d,_)}},{key:"rightEncode",value:function(d,_){return(0,n.default)(d,_)}},{key:"encodeGuarded",value:function(){var d={fontSize:this.fontSize},_={height:this.guardHeight};return[{data:t.SIDE_BIN,options:_},{data:this.leftEncode(),text:this.leftText(),options:d},{data:t.MIDDLE_BIN,options:_},{data:this.rightEncode(),text:this.rightText(),options:d},{data:t.SIDE_BIN,options:_}]}},{key:"encodeFlat",value:function(){var d=[t.SIDE_BIN,this.leftEncode(),t.MIDDLE_BIN,this.rightEncode(),t.SIDE_BIN];return{data:d.join(""),text:this.text}}}]),x})(l.default);return ze.default=i,ze}var o0;function $n(){if(o0)return Ve;o0=1,Object.defineProperty(Ve,"__esModule",{value:!0});var a=(function(){function o(x,h){for(var d=0;d<h.length;d++){var _=h[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,h,d){return h&&o(x.prototype,h),d&&o(x,d),x}})(),t=function o(x,h,d){x===null&&(x=Function.prototype);var _=Object.getOwnPropertyDescriptor(x,h);if(_===void 0){var p=Object.getPrototypeOf(x);return p===null?void 0:o(p,h,d)}else{if("value"in _)return _.value;var w=_.get;return w===void 0?void 0:w.call(d)}},e=De(),n=Z0(),c=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function s(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}function f(o,x){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:o}function u(o,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);o.prototype=Object.create(x&&x.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(o,x):o.__proto__=x)}var r=function(x){var h=x.substr(0,12).split("").map(function(d){return+d}).reduce(function(d,_,p){return p%2?d+_*3:d+_},0);return(10-h%10)%10},i=(function(o){u(x,o);function x(h,d){s(this,x),h.search(/^[0-9]{12}$/)!==-1&&(h+=r(h));var _=f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,h,d));return _.lastChar=d.lastChar,_}return a(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===r(this.data)}},{key:"leftText",value:function(){return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var d=this.data.substr(1,6),_=e.EAN13_STRUCTURE[this.data[0]];return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"leftEncode",this).call(this,d,_)}},{key:"rightText",value:function(){return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var d=this.data.substr(7,6);return t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"rightEncode",this).call(this,d,"RRRRRR")}},{key:"encodeGuarded",value:function(){var d=t(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(d.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(d.push({data:"00"}),d.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),d}}]),x})(c.default);return Ve.default=i,Ve}var Ye={},c0;function Gn(){if(c0)return Ye;c0=1,Object.defineProperty(Ye,"__esModule",{value:!0});var a=(function(){function i(o,x){for(var h=0;h<x.length;h++){var d=x[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}return function(o,x,h){return x&&i(o.prototype,x),h&&i(o,h),o}})(),t=function i(o,x,h){o===null&&(o=Function.prototype);var d=Object.getOwnPropertyDescriptor(o,x);if(d===void 0){var _=Object.getPrototypeOf(o);return _===null?void 0:i(_,x,h)}else{if("value"in d)return d.value;var p=d.get;return p===void 0?void 0:p.call(h)}},e=Z0(),n=c(e);function c(i){return i&&i.__esModule?i:{default:i}}function l(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")}function s(i,o){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:i}function f(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);i.prototype=Object.create(o&&o.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(i,o):i.__proto__=o)}var u=function(o){var x=o.substr(0,7).split("").map(function(h){return+h}).reduce(function(h,d,_){return _%2?h+d:h+d*3},0);return(10-x%10)%10},r=(function(i){f(o,i);function o(x,h){return l(this,o),x.search(/^[0-9]{7}$/)!==-1&&(x+=u(x)),s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,x,h))}return a(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===u(this.data)}},{key:"leftText",value:function(){return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var h=this.data.substr(0,4);return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftEncode",this).call(this,h,"LLLL")}},{key:"rightText",value:function(){return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var h=this.data.substr(4,4);return t(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightEncode",this).call(this,h,"RRRR")}}]),o})(n.default);return Ye.default=r,Ye}var Je={},f0;function Hn(){if(f0)return Je;f0=1,Object.defineProperty(Je,"__esModule",{value:!0});var a=(function(){function x(h,d){for(var _=0;_<d.length;_++){var p=d[_];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(h,p.key,p)}}return function(h,d,_){return d&&x(h.prototype,d),_&&x(h,_),h}})(),t=De(),e=Be(),n=s(e),c=Y(),l=s(c);function s(x){return x&&x.__esModule?x:{default:x}}function f(x,h){if(!(x instanceof h))throw new TypeError("Cannot call a class as a function")}function u(x,h){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:x}function r(x,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);x.prototype=Object.create(h&&h.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(x,h):x.__proto__=h)}var i=function(h){var d=h.split("").map(function(_){return+_}).reduce(function(_,p,w){return w%2?_+p*9:_+p*3},0);return d%10},o=(function(x){r(h,x);function h(d,_){return f(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,d,_))}return a(h,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var _=t.EAN5_STRUCTURE[i(this.data)];return{data:"1011"+(0,n.default)(this.data,_,"01"),text:this.text}}}]),h})(l.default);return Je.default=o,Je}var Qe={},u0;function Xn(){if(u0)return Qe;u0=1,Object.defineProperty(Qe,"__esModule",{value:!0});var a=(function(){function o(x,h){for(var d=0;d<h.length;d++){var _=h[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,h,d){return h&&o(x.prototype,h),d&&o(x,d),x}})(),t=De(),e=Be(),n=s(e),c=Y(),l=s(c);function s(o){return o&&o.__esModule?o:{default:o}}function f(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}function u(o,x){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:o}function r(o,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);o.prototype=Object.create(x&&x.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(o,x):o.__proto__=x)}var i=(function(o){r(x,o);function x(h,d){return f(this,x),u(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,h,d))}return a(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var d=t.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,n.default)(this.data,d,"01"),text:this.text}}}]),x})(l.default);return Qe.default=i,Qe}var me={},s0;function en(){if(s0)return me;s0=1,Object.defineProperty(me,"__esModule",{value:!0});var a=(function(){function o(x,h){for(var d=0;d<h.length;d++){var _=h[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(x,_.key,_)}}return function(x,h,d){return h&&o(x.prototype,h),d&&o(x,d),x}})();me.checksum=i;var t=Be(),e=l(t),n=Y(),c=l(n);function l(o){return o&&o.__esModule?o:{default:o}}function s(o,x){if(!(o instanceof x))throw new TypeError("Cannot call a class as a function")}function f(o,x){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:o}function u(o,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);o.prototype=Object.create(x&&x.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(o,x):o.__proto__=x)}var r=(function(o){u(x,o);function x(h,d){s(this,x),h.search(/^[0-9]{11}$/)!==-1&&(h+=i(h));var _=f(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,h,d));return _.displayValue=d.displayValue,d.fontSize>d.width*10?_.fontSize=d.width*10:_.fontSize=d.fontSize,_.guardHeight=d.height+_.fontSize/2+d.textMargin,_}return a(x,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==i(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=(0,e.default)(this.data.substr(0,6),"LLLLLL"),d+="01010",d+=(0,e.default)(this.data.substr(6,6),"RRRRRR"),d+="101",{data:d,text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101"+(0,e.default)(this.data[0],"L"),options:{height:this.guardHeight}}),d.push({data:(0,e.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),d.push({data:"01010",options:{height:this.guardHeight}}),d.push({data:(0,e.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),d.push({data:(0,e.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),d}}]),x})(c.default);function i(o){var x=0,h;for(h=1;h<11;h+=2)x+=parseInt(o[h]);for(h=0;h<11;h+=2)x+=parseInt(o[h])*3;return(10-x%10)%10}return me.default=r,me}var Ke={},l0;function Vn(){if(l0)return Ke;l0=1,Object.defineProperty(Ke,"__esModule",{value:!0});var a=(function(){function d(_,p){for(var w=0;w<p.length;w++){var O=p[w];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,p,w){return p&&d(_.prototype,p),w&&d(_,w),_}})(),t=Be(),e=s(t),n=Y(),c=s(n),l=en();function s(d){return d&&d.__esModule?d:{default:d}}function f(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function u(d,_){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:d}function r(d,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}var i=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],o=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],x=(function(d){r(_,d);function _(p,w){f(this,_);var O=u(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,p,w));if(O.isValid=!1,p.search(/^[0-9]{6}$/)!==-1)O.middleDigits=p,O.upcA=h(p,"0"),O.text=w.text||""+O.upcA[0]+p+O.upcA[O.upcA.length-1],O.isValid=!0;else if(p.search(/^[01][0-9]{7}$/)!==-1)if(O.middleDigits=p.substring(1,p.length-1),O.upcA=h(O.middleDigits,p[0]),O.upcA[O.upcA.length-1]===p[p.length-1])O.isValid=!0;else return u(O);else return u(O);return O.displayValue=w.displayValue,w.fontSize>w.width*10?O.fontSize=w.width*10:O.fontSize=w.fontSize,O.guardHeight=w.height+O.fontSize/2+w.textMargin,O}return a(_,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var w="";return w+="101",w+=this.encodeMiddleDigits(),w+="010101",{data:w,text:this.text}}},{key:"guardedEncoding",value:function(){var w=[];return this.displayValue&&w.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),w.push({data:"101",options:{height:this.guardHeight}}),w.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),w.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&w.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),w}},{key:"encodeMiddleDigits",value:function(){var w=this.upcA[0],O=this.upcA[this.upcA.length-1],C=o[parseInt(O)][parseInt(w)];return(0,e.default)(this.middleDigits,C)}}]),_})(c.default);function h(d,_){for(var p=parseInt(d[d.length-1]),w=i[p],O="",C=0,q=0;q<w.length;q++){var N=w[q];N==="X"?O+=d[C++]:O+=N}return O=""+_+O,""+O+(0,l.checksum)(O)}return Ke.default=x,Ke}var h0;function zn(){if(h0)return G;h0=1,Object.defineProperty(G,"__esModule",{value:!0}),G.UPCE=G.UPC=G.EAN2=G.EAN5=G.EAN8=G.EAN13=void 0;var a=$n(),t=x(a),e=Gn(),n=x(e),c=Hn(),l=x(c),s=Xn(),f=x(s),u=en(),r=x(u),i=Vn(),o=x(i);function x(h){return h&&h.__esModule?h:{default:h}}return G.EAN13=t.default,G.EAN8=n.default,G.EAN5=l.default,G.EAN2=f.default,G.UPC=r.default,G.UPCE=o.default,G}var ue={},Ze={},he={},d0;function Wn(){return d0||(d0=1,Object.defineProperty(he,"__esModule",{value:!0}),he.START_BIN="1010",he.END_BIN="11101",he.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]),he}var _0;function tn(){if(_0)return Ze;_0=1,Object.defineProperty(Ze,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=Wn(),e=Y(),n=c(e);function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(){return l(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return a(i,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var x=this,h=this.data.match(/.{2}/g).map(function(d){return x.encodePair(d)}).join("");return{data:t.START_BIN+h+t.END_BIN,text:this.text}}},{key:"encodePair",value:function(x){var h=t.BINARIES[x[1]];return t.BINARIES[x[0]].split("").map(function(d,_){return(d==="1"?"111":"1")+(h[_]==="1"?"000":"0")}).join("")}}]),i})(n.default);return Ze.default=u,Ze}var et={},g0;function Yn(){if(g0)return et;g0=1,Object.defineProperty(et,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=tn(),e=n(t);function n(r){return r&&r.__esModule?r:{default:r}}function c(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function l(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function s(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var f=function(i){var o=i.substr(0,13).split("").map(function(x){return parseInt(x,10)}).reduce(function(x,h,d){return x+h*(3-d%2*2)},0);return Math.ceil(o/10)*10-o},u=(function(r){s(i,r);function i(o,x){return c(this,i),o.search(/^[0-9]{13}$/)!==-1&&(o+=f(o)),l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,x))}return a(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),i})(e.default);return et.default=u,et}var p0;function Jn(){if(p0)return ue;p0=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.ITF14=ue.ITF=void 0;var a=tn(),t=c(a),e=Yn(),n=c(e);function c(l){return l&&l.__esModule?l:{default:l}}return ue.ITF=t.default,ue.ITF14=n.default,ue}var z={},tt={},y0;function Fe(){if(y0)return tt;y0=1,Object.defineProperty(tt,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=Y(),e=n(t);function n(r){return r&&r.__esModule?r:{default:r}}function c(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function l(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function s(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var f=(function(r){s(i,r);function i(o,x){return c(this,i),l(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,x))}return a(i,[{key:"encode",value:function(){for(var x="110",h=0;h<this.data.length;h++){var d=parseInt(this.data[h]),_=d.toString(2);_=u(_,4-_.length);for(var p=0;p<_.length;p++)x+=_[p]=="0"?"100":"110"}return x+="1001",{data:x,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),i})(e.default);function u(r,i){for(var o=0;o<i;o++)r="0"+r;return r}return tt.default=f,tt}var nt={},we={},v0;function kt(){if(v0)return we;v0=1,Object.defineProperty(we,"__esModule",{value:!0}),we.mod10=a,we.mod11=t;function a(e){for(var n=0,c=0;c<e.length;c++){var l=parseInt(e[c]);(c+e.length)%2===0?n+=l:n+=l*2%10+Math.floor(l*2/10)}return(10-n%10)%10}function t(e){for(var n=0,c=[2,3,4,5,6,7],l=0;l<e.length;l++){var s=parseInt(e[e.length-1-l]);n+=c[l%c.length]*s}return(11-n%11)%11}return we}var b0;function Qn(){if(b0)return nt;b0=1,Object.defineProperty(nt,"__esModule",{value:!0});var a=Fe(),t=n(a),e=kt();function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){return c(this,r),l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i+(0,e.mod10)(i),o))}return r})(t.default);return nt.default=f,nt}var rt={},m0;function Kn(){if(m0)return rt;m0=1,Object.defineProperty(rt,"__esModule",{value:!0});var a=Fe(),t=n(a),e=kt();function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){return c(this,r),l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i+(0,e.mod11)(i),o))}return r})(t.default);return rt.default=f,rt}var it={},w0;function Zn(){if(w0)return it;w0=1,Object.defineProperty(it,"__esModule",{value:!0});var a=Fe(),t=n(a),e=kt();function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){return c(this,r),i+=(0,e.mod10)(i),i+=(0,e.mod10)(i),l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i,o))}return r})(t.default);return it.default=f,it}var at={},E0;function er(){if(E0)return at;E0=1,Object.defineProperty(at,"__esModule",{value:!0});var a=Fe(),t=n(a),e=kt();function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){return c(this,r),i+=(0,e.mod11)(i),i+=(0,e.mod10)(i),l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i,o))}return r})(t.default);return at.default=f,at}var O0;function tr(){if(O0)return z;O0=1,Object.defineProperty(z,"__esModule",{value:!0}),z.MSI1110=z.MSI1010=z.MSI11=z.MSI10=z.MSI=void 0;var a=Fe(),t=i(a),e=Qn(),n=i(e),c=Kn(),l=i(c),s=Zn(),f=i(s),u=er(),r=i(u);function i(o){return o&&o.__esModule?o:{default:o}}return z.MSI=t.default,z.MSI10=n.default,z.MSI11=l.default,z.MSI1010=f.default,z.MSI1110=r.default,z}var Ee={},A0;function nr(){if(A0)return Ee;A0=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.pharmacode=void 0;var a=(function(){function u(r,i){for(var o=0;o<i.length;o++){var x=i[o];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(r,x.key,x)}}return function(r,i,o){return i&&u(r.prototype,i),o&&u(r,o),r}})(),t=Y(),e=n(t);function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){c(this,r);var x=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i,o));return x.number=parseInt(i,10),x}return a(r,[{key:"encode",value:function(){for(var o=this.number,x="";!isNaN(o)&&o!=0;)o%2===0?(x="11100"+x,o=(o-2)/2):(x="100"+x,o=(o-1)/2);return x=x.slice(0,-2),{data:x,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),r})(e.default);return Ee.pharmacode=f,Ee}var Oe={},S0;function rr(){if(S0)return Oe;S0=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.codabar=void 0;var a=(function(){function u(r,i){for(var o=0;o<i.length;o++){var x=i[o];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(r,x.key,x)}}return function(r,i,o){return i&&u(r.prototype,i),o&&u(r,o),r}})(),t=Y(),e=n(t);function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){c(this,r),i.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(i="A"+i+"A");var x=l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i.toUpperCase(),o));return x.text=x.options.text||x.text.replace(/[A-D]/g,""),x}return a(r,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var o=[],x=this.getEncodings(),h=0;h<this.data.length;h++)o.push(x[this.data.charAt(h)]),h!==this.data.length-1&&o.push("0");return{text:this.text,data:o.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),r})(e.default);return Oe.codabar=f,Oe}var se={},xt={},de={},T0;function ir(){return T0||(T0=1,Object.defineProperty(de,"__esModule",{value:!0}),de.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)","ÿ"],de.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"],de.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]}),de}var M0;function nn(){if(M0)return xt;M0=1,Object.defineProperty(xt,"__esModule",{value:!0});var a=(function(){function r(i,o){for(var x=0;x<o.length;x++){var h=o[x];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,o,x){return o&&r(i.prototype,o),x&&r(i,x),i}})(),t=ir(),e=Y(),n=c(e);function c(r){return r&&r.__esModule?r:{default:r}}function l(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}function s(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:r}function f(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}var u=(function(r){f(i,r);function i(o,x){return l(this,i),s(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,o,x))}return a(i,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var x=this.data.split("").flatMap(function(p){return t.MULTI_SYMBOLS[p]||p}),h=x.map(function(p){return i.getEncoding(p)}).join(""),d=i.checksum(x,20),_=i.checksum(x.concat(d),15);return{text:this.text,data:i.getEncoding("ÿ")+h+i.getEncoding(d)+i.getEncoding(_)+i.getEncoding("ÿ")+"1"}}}],[{key:"getEncoding",value:function(x){return t.BINARIES[i.symbolValue(x)]}},{key:"getSymbol",value:function(x){return t.SYMBOLS[x]}},{key:"symbolValue",value:function(x){return t.SYMBOLS.indexOf(x)}},{key:"checksum",value:function(x,h){var d=x.slice().reverse().reduce(function(_,p,w){var O=w%h+1;return _+i.symbolValue(p)*O},0);return i.getSymbol(d%47)}}]),i})(n.default);return xt.default=u,xt}var ot={},I0;function ar(){if(I0)return ot;I0=1,Object.defineProperty(ot,"__esModule",{value:!0});var a=(function(){function u(r,i){for(var o=0;o<i.length;o++){var x=i[o];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(r,x.key,x)}}return function(r,i,o){return i&&u(r.prototype,i),o&&u(r,o),r}})(),t=nn(),e=n(t);function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){return c(this,r),l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i,o))}return a(r,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),r})(e.default);return ot.default=f,ot}var R0;function xr(){if(R0)return se;R0=1,Object.defineProperty(se,"__esModule",{value:!0}),se.CODE93FullASCII=se.CODE93=void 0;var a=nn(),t=c(a),e=ar(),n=c(e);function c(l){return l&&l.__esModule?l:{default:l}}return se.CODE93=t.default,se.CODE93FullASCII=n.default,se}var Ae={},P0;function or(){if(P0)return Ae;P0=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.GenericBarcode=void 0;var a=(function(){function u(r,i){for(var o=0;o<i.length;o++){var x=i[o];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(r,x.key,x)}}return function(r,i,o){return i&&u(r.prototype,i),o&&u(r,o),r}})(),t=Y(),e=n(t);function n(u){return u&&u.__esModule?u:{default:u}}function c(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}function l(u,r){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:u}function s(u,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);u.prototype=Object.create(r&&r.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(u,r):u.__proto__=r)}var f=(function(u){s(r,u);function r(i,o){return c(this,r),l(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,i,o))}return a(r,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),r})(e.default);return Ae.GenericBarcode=f,Ae}var k0;function cr(){if(k0)return Ne;k0=1,Object.defineProperty(Ne,"__esModule",{value:!0});var a=Bn(),t=Un(),e=zn(),n=Jn(),c=tr(),l=nr(),s=rr(),f=xr(),u=or();return Ne.default={CODE39:a.CODE39,CODE128:t.CODE128,CODE128A:t.CODE128A,CODE128B:t.CODE128B,CODE128C:t.CODE128C,EAN13:e.EAN13,EAN8:e.EAN8,EAN5:e.EAN5,EAN2:e.EAN2,UPC:e.UPC,UPCE:e.UPCE,ITF14:n.ITF14,ITF:n.ITF,MSI:c.MSI,MSI10:c.MSI10,MSI11:c.MSI11,MSI1010:c.MSI1010,MSI1110:c.MSI1110,pharmacode:l.pharmacode,codabar:s.codabar,CODE93:f.CODE93,CODE93FullASCII:f.CODE93FullASCII,GenericBarcode:u.GenericBarcode},Ne}var ct={},C0;function Ct(){if(C0)return ct;C0=1,Object.defineProperty(ct,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(t[c]=n[c])}return t};return ct.default=function(t,e){return a({},t,e)},ct}var ft={},D0;function fr(){if(D0)return ft;D0=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=a;function a(t){var e=[];function n(c){if(Array.isArray(c))for(var l=0;l<c.length;l++)n(c[l]);else c.text=c.text||"",c.data=c.data||"",e.push(c)}return n(t),e}return ft}var ut={},B0;function ur(){if(B0)return ut;B0=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=a;function a(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}return ut}var st={},lt={},ht={},F0;function rn(){if(F0)return ht;F0=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=a;function a(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}return ht}var dt={},L0;function an(){if(L0)return dt;L0=1,Object.defineProperty(dt,"__esModule",{value:!0});var a={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};return dt.default=a,dt}var N0;function sr(){if(N0)return lt;N0=1,Object.defineProperty(lt,"__esModule",{value:!0});var a=rn(),t=c(a),e=an(),n=c(e);function c(s){return s&&s.__esModule?s:{default:s}}function l(s){var f={};for(var u in n.default)n.default.hasOwnProperty(u)&&(s.hasAttribute("jsbarcode-"+u.toLowerCase())&&(f[u]=s.getAttribute("jsbarcode-"+u.toLowerCase())),s.hasAttribute("data-"+u.toLowerCase())&&(f[u]=s.getAttribute("data-"+u.toLowerCase())));return f.value=s.getAttribute("jsbarcode-value")||s.getAttribute("data-value"),f=(0,t.default)(f),f}return lt.default=l,lt}var _t={},gt={},W={},j0;function xn(){if(j0)return W;j0=1,Object.defineProperty(W,"__esModule",{value:!0}),W.getTotalWidthOfEncodings=W.calculateEncodingAttributes=W.getBarcodePadding=W.getEncodingHeight=W.getMaximumHeightOfEncodings=void 0;var a=Ct(),t=e(a);function e(r){return r&&r.__esModule?r:{default:r}}function n(r,i){return i.height+(i.displayValue&&r.text.length>0?i.fontSize+i.textMargin:0)+i.marginTop+i.marginBottom}function c(r,i,o){if(o.displayValue&&i<r){if(o.textAlign=="center")return Math.floor((r-i)/2);if(o.textAlign=="left")return 0;if(o.textAlign=="right")return Math.floor(r-i)}return 0}function l(r,i,o){for(var x=0;x<r.length;x++){var h=r[x],d=(0,t.default)(i,h.options),_;d.displayValue?_=u(h.text,d,o):_=0;var p=h.data.length*d.width;h.width=Math.ceil(Math.max(_,p)),h.height=n(h,d),h.barcodePadding=c(_,p,d)}}function s(r){for(var i=0,o=0;o<r.length;o++)i+=r[o].width;return i}function f(r){for(var i=0,o=0;o<r.length;o++)r[o].height>i&&(i=r[o].height);return i}function u(r,i,o){var x;if(o)x=o;else if(typeof document<"u")x=document.createElement("canvas").getContext("2d");else return 0;x.font=i.fontOptions+" "+i.fontSize+"px "+i.font;var h=x.measureText(r);if(!h)return 0;var d=h.width;return d}return W.getMaximumHeightOfEncodings=f,W.getEncodingHeight=n,W.getBarcodePadding=c,W.calculateEncodingAttributes=l,W.getTotalWidthOfEncodings=s,W}var q0;function lr(){if(q0)return gt;q0=1,Object.defineProperty(gt,"__esModule",{value:!0});var a=(function(){function f(u,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,r,i){return r&&f(u.prototype,r),i&&f(u,i),u}})(),t=Ct(),e=c(t),n=xn();function c(f){return f&&f.__esModule?f:{default:f}}function l(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}var s=(function(){function f(u,r,i){l(this,f),this.canvas=u,this.encodings=r,this.options=i}return a(f,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var i=(0,e.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(i,this.encodings[r]),this.drawCanvasText(i,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,n.calculateEncodingAttributes)(this.encodings,this.options,r);var i=(0,n.getTotalWidthOfEncodings)(this.encodings),o=(0,n.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=i+this.options.marginLeft+this.options.marginRight,this.canvas.height=o,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,i){var o=this.canvas.getContext("2d"),x=i.data,h;r.textPosition=="top"?h=r.marginTop+r.fontSize+r.textMargin:h=r.marginTop,o.fillStyle=r.lineColor;for(var d=0;d<x.length;d++){var _=d*r.width+i.barcodePadding;x[d]==="1"?o.fillRect(_,h,r.width,r.height):x[d]&&o.fillRect(_,h,r.width,r.height*x[d])}}},{key:"drawCanvasText",value:function(r,i){var o=this.canvas.getContext("2d"),x=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var h,d;r.textPosition=="top"?d=r.marginTop+r.fontSize-r.textMargin:d=r.height+r.textMargin+r.marginTop+r.fontSize,o.font=x,r.textAlign=="left"||i.barcodePadding>0?(h=0,o.textAlign="left"):r.textAlign=="right"?(h=i.width-1,o.textAlign="right"):(h=i.width/2,o.textAlign="center"),o.fillText(i.text,h,d)}}},{key:"moveCanvasDrawing",value:function(r){var i=this.canvas.getContext("2d");i.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),f})();return gt.default=s,gt}var pt={},U0;function hr(){if(U0)return pt;U0=1,Object.defineProperty(pt,"__esModule",{value:!0});var a=(function(){function u(r,i){for(var o=0;o<i.length;o++){var x=i[o];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(r,x.key,x)}}return function(r,i,o){return i&&u(r.prototype,i),o&&u(r,o),r}})(),t=Ct(),e=c(t),n=xn();function c(u){return u&&u.__esModule?u:{default:u}}function l(u,r){if(!(u instanceof r))throw new TypeError("Cannot call a class as a function")}var s="http://www.w3.org/2000/svg",f=(function(){function u(r,i,o){l(this,u),this.svg=r,this.encodings=i,this.options=o,this.document=o.xmlDocument||document}return a(u,[{key:"render",value:function(){var i=this.options.marginLeft;this.prepareSVG();for(var o=0;o<this.encodings.length;o++){var x=this.encodings[o],h=(0,e.default)(this.options,x.options),d=this.createGroup(i,h.marginTop,this.svg);this.setGroupOptions(d,h),this.drawSvgBarcode(d,h,x),this.drawSVGText(d,h,x),i+=x.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,n.calculateEncodingAttributes)(this.encodings,this.options);var i=(0,n.getTotalWidthOfEncodings)(this.encodings),o=(0,n.getMaximumHeightOfEncodings)(this.encodings),x=i+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(x,o),this.options.background&&this.drawRect(0,0,x,o,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(i,o,x){var h=x.data,d;o.textPosition=="top"?d=o.fontSize+o.textMargin:d=0;for(var _=0,p=0,w=0;w<h.length;w++)p=w*o.width+x.barcodePadding,h[w]==="1"?_++:_>0&&(this.drawRect(p-o.width*_,d,o.width*_,o.height,i),_=0);_>0&&this.drawRect(p-o.width*(_-1),d,o.width*_,o.height,i)}},{key:"drawSVGText",value:function(i,o,x){var h=this.document.createElementNS(s,"text");if(o.displayValue){var d,_;h.setAttribute("style","font:"+o.fontOptions+" "+o.fontSize+"px "+o.font),o.textPosition=="top"?_=o.fontSize-o.textMargin:_=o.height+o.textMargin+o.fontSize,o.textAlign=="left"||x.barcodePadding>0?(d=0,h.setAttribute("text-anchor","start")):o.textAlign=="right"?(d=x.width-1,h.setAttribute("text-anchor","end")):(d=x.width/2,h.setAttribute("text-anchor","middle")),h.setAttribute("x",d),h.setAttribute("y",_),h.appendChild(this.document.createTextNode(x.text)),i.appendChild(h)}}},{key:"setSvgAttributes",value:function(i,o){var x=this.svg;x.setAttribute("width",i+"px"),x.setAttribute("height",o+"px"),x.setAttribute("x","0px"),x.setAttribute("y","0px"),x.setAttribute("viewBox","0 0 "+i+" "+o),x.setAttribute("xmlns",s),x.setAttribute("version","1.1"),x.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(i,o,x){var h=this.document.createElementNS(s,"g");return h.setAttribute("transform","translate("+i+", "+o+")"),x.appendChild(h),h}},{key:"setGroupOptions",value:function(i,o){i.setAttribute("style","fill:"+o.lineColor+";")}},{key:"drawRect",value:function(i,o,x,h,d){var _=this.document.createElementNS(s,"rect");return _.setAttribute("x",i),_.setAttribute("y",o),_.setAttribute("width",x),_.setAttribute("height",h),d.appendChild(_),_}}]),u})();return pt.default=f,pt}var yt={},$0;function dr(){if($0)return yt;$0=1,Object.defineProperty(yt,"__esModule",{value:!0});var a=(function(){function n(c,l){for(var s=0;s<l.length;s++){var f=l[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,l,s){return l&&n(c.prototype,l),s&&n(c,s),c}})();function t(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}var e=(function(){function n(c,l,s){t(this,n),this.object=c,this.encodings=l,this.options=s}return a(n,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),n})();return yt.default=e,yt}var G0;function _r(){if(G0)return _t;G0=1,Object.defineProperty(_t,"__esModule",{value:!0});var a=lr(),t=s(a),e=hr(),n=s(e),c=dr(),l=s(c);function s(f){return f&&f.__esModule?f:{default:f}}return _t.default={CanvasRenderer:t.default,SVGRenderer:n.default,ObjectRenderer:l.default},_t}var _e={},H0;function on(){if(H0)return _e;H0=1,Object.defineProperty(_e,"__esModule",{value:!0});function a(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")}function t(s,f){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:s}function e(s,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);s.prototype=Object.create(f&&f.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(s,f):s.__proto__=f)}var n=(function(s){e(f,s);function f(u,r){a(this,f);var i=t(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return i.name="InvalidInputException",i.symbology=u,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return f})(Error),c=(function(s){e(f,s);function f(){a(this,f);var u=t(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return u.name="InvalidElementException",u.message="Not supported type to render on",u}return f})(Error),l=(function(s){e(f,s);function f(){a(this,f);var u=t(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));return u.name="NoElementException",u.message="No element to render on.",u}return f})(Error);return _e.InvalidInputException=n,_e.InvalidElementException=c,_e.NoElementException=l,_e}var X0;function gr(){if(X0)return st;X0=1,Object.defineProperty(st,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t=sr(),e=s(t),n=_r(),c=s(n),l=on();function s(i){return i&&i.__esModule?i:{default:i}}function f(i){if(typeof i=="string")return u(i);if(Array.isArray(i)){for(var o=[],x=0;x<i.length;x++)o.push(f(i[x]));return o}else{if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLImageElement)return r(i);if(i&&i.nodeName&&i.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&i instanceof SVGElement)return{element:i,options:(0,e.default)(i),renderer:c.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement)return{element:i,options:(0,e.default)(i),renderer:c.default.CanvasRenderer};if(i&&i.getContext)return{element:i,renderer:c.default.CanvasRenderer};if(i&&(typeof i>"u"?"undefined":a(i))==="object"&&!i.nodeName)return{element:i,renderer:c.default.ObjectRenderer};throw new l.InvalidElementException}}function u(i){var o=document.querySelectorAll(i);if(o.length!==0){for(var x=[],h=0;h<o.length;h++)x.push(f(o[h]));return x}}function r(i){var o=document.createElement("canvas");return{element:o,options:(0,e.default)(i),renderer:c.default.CanvasRenderer,afterRender:function(){i.setAttribute("src",o.toDataURL())}}}return st.default=f,st}var vt={},V0;function pr(){if(V0)return vt;V0=1,Object.defineProperty(vt,"__esModule",{value:!0});var a=(function(){function n(c,l){for(var s=0;s<l.length;s++){var f=l[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,l,s){return l&&n(c.prototype,l),s&&n(c,s),c}})();function t(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}var e=(function(){function n(c){t(this,n),this.api=c}return a(n,[{key:"handleCatch",value:function(l){if(l.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw l.message;else throw l;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(l){try{var s=l.apply(void 0,arguments);return this.api._options.valid(!0),s}catch(f){return this.handleCatch(f),this.api}}}]),n})();return vt.default=e,vt}var Lt,z0;function yr(){if(z0)return Lt;z0=1;var a=cr(),t=w(a),e=Ct(),n=w(e),c=fr(),l=w(c),s=ur(),f=w(s),u=gr(),r=w(u),i=rn(),o=w(i),x=pr(),h=w(x),d=on(),_=an(),p=w(_);function w(g){return g&&g.__esModule?g:{default:g}}var O=function(){},C=function(b,v,E){var A=new O;if(typeof b>"u")throw Error("No element to render on was provided.");return A._renderProperties=(0,r.default)(b),A._encodings=[],A._options=p.default,A._errorHandler=new h.default(A),typeof v<"u"&&(E=E||{},E.format||(E.format=y()),A.options(E)[E.format](v,E).render()),A};C.getModule=function(g){return t.default[g]};for(var q in t.default)t.default.hasOwnProperty(q)&&N(t.default,q);function N(g,b){O.prototype[b]=O.prototype[b.toUpperCase()]=O.prototype[b.toLowerCase()]=function(v,E){var A=this;return A._errorHandler.wrapBarcodeCall(function(){E.text=typeof E.text>"u"?void 0:""+E.text;var I=(0,n.default)(A._options,E);I=(0,o.default)(I);var D=g[b],B=H(v,D,I);return A._encodings.push(B),A})}}function H(g,b,v){g=""+g;var E=new b(g,v);if(!E.valid())throw new d.InvalidInputException(E.constructor.name,g);var A=E.encode();A=(0,l.default)(A);for(var I=0;I<A.length;I++)A[I].options=(0,n.default)(v,A[I].options);return A}function y(){return t.default.CODE128?"CODE128":Object.keys(t.default)[0]}O.prototype.options=function(g){return this._options=(0,n.default)(this._options,g),this},O.prototype.blank=function(g){var b=new Array(g+1).join("0");return this._encodings.push({data:b}),this},O.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var g;for(var b in this._renderProperties){g=this._renderProperties[b];var v=(0,n.default)(this._options,g.options);v.format=="auto"&&(v.format=y()),this._errorHandler.wrapBarcodeCall(function(){var E=v.value,A=t.default[v.format.toUpperCase()],I=H(E,A,v);m(g,I,v)})}}},O.prototype.render=function(){if(!this._renderProperties)throw new d.NoElementException;if(Array.isArray(this._renderProperties))for(var g=0;g<this._renderProperties.length;g++)m(this._renderProperties[g],this._encodings,this._options);else m(this._renderProperties,this._encodings,this._options);return this},O.prototype._defaults=p.default;function m(g,b,v){b=(0,l.default)(b);for(var E=0;E<b.length;E++)b[E].options=(0,n.default)(v,b[E].options),(0,f.default)(b[E].options);(0,f.default)(v);var A=g.renderer,I=new A(g.element,b,v);I.render(),g.afterRender&&g.afterRender()}return typeof window<"u"&&(window.JsBarcode=C),typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(g,b){var v=[];return jQuery(this).each(function(){v.push(this)}),C(v,g,b)}),Lt=C,Lt}var vr=yr();const br=Dn(vr),R=Re;(function(a,t){const e=Re,n=a();for(;;)try{if(-parseInt(e(499))/1*(-parseInt(e(533))/2)+-parseInt(e(443))/3*(parseInt(e(586))/4)+parseInt(e(508))/5*(-parseInt(e(445))/6)+-parseInt(e(517))/7+-parseInt(e(502))/8+parseInt(e(583))/9+parseInt(e(567))/10===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Ot,498838);function Ot(){const a=["星期六","entries","forEach","10月","16px Arial","ctx","renderEllipse","moveTo","Failed to generate QR code:","QR code element missing data","createObjectURL","fillStyle","https://25565.shop/render","Error loading templates into select:","== 远程模板渲染渲染失败！此为收费功能，未合法注册设备无法使用。","floor","isDark","restore","getSystemVariables","getModuleCount","valueOf","renderBarcode","fill","application/json","getFullYear","20451450FEtPEa","warn","ceil","getElementById","replaceVariables","Variable not found: ","setDate","renderElement","POST","keys","barcode","beginPath","renderQRCode","generateQRCode","rectangle","getDay","5224761siqVAf","line","Unknown element type:","1010388MgqtJP","processVariables","src","arc","builtInTemplates","fillRect","message","getContext","save","arcTo","floydSteinberg","星期日","canvas","setLineDash","renderPath","crossOrigin","background","loadTemplatesIntoSelect","textContent","#000000","missing","lineTo","9hhWabJ","addData","157236lMhTmw","renderRemoteTemplate","renderRectangle","keep","path","getTemplate","</option>","map","Select element not found:","textAlign","status","Failed to load image:","onerror","make","strength","renderCircle","Invalid template: must be an object","星期一","error","lineCap","renderPolygon","drawImage","length","lineWidth","string","monospace","== 如果你确定设备已合法注册，请联系卖家获取 OTA 包升级固件。","Polygon needs at least 2 points","left","templateVariables","Barcode element missing data","empty","variables","blackWhiteColor","type","join","toLowerCase","renderText","isArray","trim","render","width","textBaseline","getSeconds","round","polygon","values","Element missing type:","replace","Failed to generate barcode:","value","appendChild","clearRect","12月","1671bsENvM","circle","option","4695792dySyHR","object","elements","bold ",'<option value="',"padStart","10GlAEyz","#FFFFFF","putImageData","mode","closePath","default","createElement","renderImage","onload","6768587oOoFwc","getMonth","setVariables","font","getDate","missingVariableBehavior","text","fillText","anonymous","星期四","height","getMinutes","-- 选择模板 --","renderLine","getImageData","validate","284PikKHy","innerHTML","statusText","stroke","strokeStyle","image","push","getHours","algorithm"];return Ot=function(){return a},Ot()}function Re(a,t){const e=Ot();return Re=function(n,c){return n=n-424,e[n]},Re(a,t)}class mr{constructor(t,e,n){const c=Re;this.ctx=t,this[c(486)]=e,this[c(527)]=n,this[c(477)]={},this.templateVariables={},this[c(522)]=c(448)}[R(519)](t){const e=R;this[e(477)]={...t}}[R(560)](){const t=R,e=new Date,n=[t(432),t(462),"星期二","星期三",t(526),"星期五",t(542)],c=["1月","2月","3月","4月","5月","6月","7月","8月","9月",t(545),"11月",t(498)],l=s=>{const f=t,u=new Date(s[f(562)]()),r=(s[f(582)]()+6)%7;u[f(573)](u[f(521)]()-r+3);const i=new Date(u[f(566)](),0,4),o=(u-i)/864e5;return 1+Math[f(569)](o/7)};return{"date.year":e[t(566)](),"date.month":e[t(518)]()+1,"date.month.name":c[e[t(518)]()],"date.day":e[t(521)](),"date.weekday":e[t(582)](),"date.weekday.name":n[e.getDay()],"date.full":e[t(566)]()+"年"+(e[t(518)]()+1)+"月"+e.getDate()+"日","date.weeks":"第"+l(e)+"周","time.hour":e[t(540)](),"time.hour.12":e.getHours()%12||12,"time.minute":String(e[t(528)]())[t(507)](2,"0"),"time.second":String(e[t(488)]())[t(507)](2,"0"),"time.ampm":e[t(540)]()>=12?"PM":"AM","time.ampm.cn":e[t(540)]()>=12?"下午":"上午","time.hm":String(e[t(540)]())[t(507)](2,"0")+":"+String(e[t(528)]())[t(507)](2,"0"),"time.hms":String(e[t(540)]())[t(507)](2,"0")+":"+String(e[t(528)]())[t(507)](2,"0")+":"+String(e[t(488)]())[t(507)](2,"0"),timestamp:e.getTime(),"timestamp.seconds":Math[t(557)](e.getTime()/1e3),"canvas.width":this[t(486)],"canvas.height":this[t(527)]}}[R(571)](t){const e=R;if(typeof t!==e(469))return t;const n={...this.getSystemVariables(),...this[e(477)]};return t[e(493)](/\{\{([^}]+)\}\}/g,(c,l)=>{const s=e,f=l[s(484)]();if(f in n)return n[f];try{const u={...n},r=new Function(...Object[s(576)](u),"return "+f+";"),i=r(...Object[s(491)](u));if(i!==void 0)return i}catch{}return this[s(522)]===s(476)?"":this.missingVariableBehavior===s(513)?f in this[s(474)]?this.templateVariables[f]:"":(console.warn(s(572)+f),c)})}[R(587)](t){const e=R;if(typeof t===e(469))return this[e(571)](t);if(Array[e(483)](t))return t[e(452)](n=>this[e(587)](n));if(t&&typeof t===e(503)){const n={};for(const[c,l]of Object[e(543)](t))n[c]=this[e(587)](l);return n}return t}async[R(485)](t,e=null){const n=R;if(!t||typeof t!="object")throw new Error(n(461));this[n(522)]=t[n(441)]||n(513),(!e||Object[n(576)](e).length===0)&&(this[n(522)]=n(513)),this[n(474)]=t[n(477)]||{},this[n(519)](e||{});const c=this.processVariables(t);if(c[n(437)]&&(this[n(547)][n(553)]=c[n(437)],this[n(547)][n(426)](0,0,this[n(486)],this[n(527)])),Array[n(483)](c.elements))for(const l of c[n(504)])await this.renderElement(l)}async[R(574)](t){const e=R;if(!t[e(479)]){console[e(568)](e(492),t);return}switch(t[e(479)][e(481)]()){case e(523):this[e(482)](t);break;case e(584):this[e(530)](t);break;case"rect":case e(581):this[e(447)](t);break;case e(500):this[e(460)](t);break;case"ellipse":this.renderEllipse(t);break;case e(538):await this[e(515)](t);break;case e(490):this.renderPolygon(t);break;case e(449):this.renderPath(t);break;case"qrcode":this[e(579)](t);break;case e(577):this[e(563)](t);break;default:console.warn(e(585),t[e(479)])}}[R(482)](t){const e=R,{x:n=0,y:c=0,text:l="",font:s=e(546),color:f=e(440),align:u=e(473),baseline:r="alphabetic",bold:i=!1,italic:o=!1,maxWidth:x}=t;this[e(547)][e(429)]();let h="";o&&(h+="italic "),i&&(h+=e(505)),this[e(547)][e(520)]=h+s,this[e(547)][e(553)]=f,this[e(547)][e(454)]=u,this[e(547)][e(487)]=r,x!==void 0?this[e(547)][e(524)](l,n,c,x):this[e(547)][e(524)](l,n,c),this.ctx[e(559)]()}renderLine(t){const e=R,{x1:n=0,y1:c=0,x2:l=0,y2:s=0,color:f=e(440),width:u=1,dash:r=null,lineCap:i=e(489),lineJoin:o=e(489)}=t;this[e(547)][e(429)](),this.ctx.strokeStyle=f,this.ctx[e(468)]=u,this[e(547)][e(464)]=i,this[e(547)].lineJoin=o,r&&Array[e(483)](r)&&this.ctx[e(434)](r),this[e(547)][e(578)](),this[e(547)][e(549)](n,c),this[e(547)].lineTo(l,s),this[e(547)][e(536)](),this[e(547)].restore()}renderRectangle(t){const e=R,{x:n=0,y:c=0,width:l=0,height:s=0,color:f=e(440),fill:u=!1,strokeWidth:r=1,radius:i=0}=t;this[e(547)][e(429)](),i>0?(this[e(547)].beginPath(),this[e(547)][e(549)](n+i,c),this[e(547)][e(442)](n+l-i,c),this[e(547)].arcTo(n+l,c,n+l,c+i,i),this[e(547)][e(442)](n+l,c+s-i),this.ctx[e(430)](n+l,c+s,n+l-i,c+s,i),this.ctx.lineTo(n+i,c+s),this.ctx[e(430)](n,c+s,n,c+s-i,i),this[e(547)][e(442)](n,c+i),this[e(547)].arcTo(n,c,n+i,c,i),this.ctx[e(512)](),u?(this.ctx[e(553)]=f,this.ctx[e(564)]()):(this[e(547)].strokeStyle=f,this[e(547)][e(468)]=r,this.ctx[e(536)]())):u?(this[e(547)].fillStyle=f,this[e(547)].fillRect(n,c,l,s)):(this[e(547)][e(537)]=f,this.ctx[e(468)]=r,this[e(547)].strokeRect(n,c,l,s)),this[e(547)][e(559)]()}renderCircle(t){const e=R,{x:n=0,y:c=0,radius:l=0,color:s=e(440),fill:f=!1,strokeWidth:u=1}=t;this[e(547)].save(),this[e(547)][e(578)](),this[e(547)][e(424)](n,c,l,0,2*Math.PI),f?(this.ctx.fillStyle=s,this[e(547)][e(564)]()):(this[e(547)][e(537)]=s,this[e(547)].lineWidth=u,this.ctx[e(536)]()),this[e(547)][e(559)]()}[R(548)](t){const e=R,{x:n=0,y:c=0,radiusX:l=0,radiusY:s=0,rotation:f=0,color:u=e(440),fill:r=!1,strokeWidth:i=1}=t;this[e(547)].save(),this[e(547)][e(578)](),this.ctx.ellipse(n,c,l,s,f*Math.PI/180,0,2*Math.PI),r?(this.ctx.fillStyle=u,this[e(547)][e(564)]()):(this[e(547)][e(537)]=u,this[e(547)].lineWidth=i,this.ctx[e(536)]()),this[e(547)][e(559)]()}async renderImage(t){const e=R,{x:n=0,y:c=0,width:l,height:s,src:f,dither:u}=t;if(!f){console[e(568)]("Image element missing src");return}return new Promise((r,i)=>{const o=e,x=new Image;x[o(436)]=o(525),x[o(516)]=()=>{const h=o,d=l!==void 0?l:x[h(486)],_=s!==void 0?s:x.height;if(u){const p=document.createElement(h(433));p.width=d,p.height=_;const w=p[h(428)]("2d");w[h(466)](x,0,0,d,_);const O=w[h(531)](0,0,d,_),C=u[h(541)]||h(431),q=u[h(459)]!==void 0?u[h(459)]:1,N=u[h(511)]||h(478),H=J0(O,C,q,N),y=Rt(H,N),m=Q0(y,d,_,N);w[h(510)](m,0,0),this[h(547)][h(466)](p,n,c,d,_)}else this[h(547)][h(466)](x,n,c,d,_);r()},x[o(457)]=()=>{console.warn(o(456),f),r()},x[o(588)]=f})}[R(465)](t){const e=R,{points:n=[],color:c=e(440),fill:l=!1,strokeWidth:s=1}=t;if(!Array[e(483)](n)||n.length<2){console[e(568)](e(472));return}this.ctx[e(429)](),this.ctx[e(578)](),this.ctx.moveTo(n[0].x,n[0].y);for(let f=1;f<n[e(467)];f++)this[e(547)][e(442)](n[f].x,n[f].y);this[e(547)][e(512)](),l?(this[e(547)][e(553)]=c,this[e(547)].fill()):(this[e(547)][e(537)]=c,this.ctx.lineWidth=s,this[e(547)][e(536)]()),this[e(547)][e(559)]()}[R(435)](t){const e=R,{d:n="",color:c=e(440),fill:l=!1,strokeWidth:s=1}=t;if(!n){console.warn("Path element missing data");return}this[e(547)].save();const f=new Path2D(n);l?(this[e(547)][e(553)]=c,this.ctx[e(564)](f)):(this.ctx.strokeStyle=c,this[e(547)][e(468)]=s,this[e(547)][e(536)](f)),this[e(547)][e(559)]()}[R(579)](t){const e=R,{x:n=0,y:c=0,data:l="",size:s=100,color:f="#000000",background:u=e(509),errorCorrection:r="M"}=t;if(!l){console[e(568)](e(551));return}try{const i=this[e(580)](l,r),o=i[e(467)],x=s/o;this[e(547)][e(429)](),this[e(547)][e(553)]=u,this[e(547)].fillRect(n,c,s,s),this[e(547)].fillStyle=f;for(let h=0;h<o;h++)for(let d=0;d<o;d++)i[h][d]&&this[e(547)].fillRect(n+d*x,c+h*x,x,x);this.ctx[e(559)]()}catch(i){console[e(463)](e(550),i)}}generateQRCode(t,e="M"){const n=R,c=0;let l="M";e==="L"?l="L":e==="M"?l="M":e==="Q"?l="Q":e==="H"&&(l="H");const s=ve(c,l);s[n(444)](t),s[n(458)]();const f=s[n(561)](),u=[];for(let r=0;r<f;r++){u[r]=[];for(let i=0;i<f;i++)u[r][i]=s[n(558)](r,i)}return u}[R(563)](t){const e=R,{x:n=0,y:c=0,data:l="",width:s=200,height:f=100,format:u="CODE128",color:r="#000000",background:i=e(509),displayValue:o=!0,font:x=e(470),fontSize:h=20,fontOptions:d="",textMargin:_=2}=t;if(!l){console[e(568)](e(475));return}try{const p=document[e(514)](e(433));br(p,l,{format:u,width:s>f?2:1,height:f-(o?h+_*2:0),displayValue:o,font:x,fontSize:h,fontOptions:d,textMargin:_,lineColor:r,background:i,margin:0}),this[e(547)][e(466)](p,n,c,s,f)}catch(p){throw console[e(463)](e(494),p),p}}static fromJSON(t){const e=R;try{return JSON.parse(t)}catch(n){throw new Error("Invalid JSON template: "+n[e(427)])}}static[R(532)](t){const e=R,n=[];return!t||typeof t!==e(503)?(n.push("Template must be an object"),n):(t[e(504)]&&!Array[e(483)](t[e(504)])&&n[e(539)]("elements must be an array"),t[e(504)]&&t[e(504)][e(544)]((c,l)=>{const s=e;!c[s(479)]&&n[s(539)]("Element at index "+l+" missing type")}),n)}}class wr{constructor(t){const e=R;this[e(425)]=t||{},this.storageKey="savedTemplates"}[R(450)](t){return this[R(425)][t]||null}async[R(446)](t,e,n,c){const l=R,s={width:t[l(486)],height:t[l(527)],missing:e.missing||"",template:{background:e.background||l(509),elements:e[l(504)]||[]},variables:n||{}};Object[l(576)](s[l(477)])[l(467)]===0&&e[l(477)]&&(s.variables=e[l(477)]);const f=await fetch(l(554),{method:l(575),headers:{"Content-Type":l(565),"X-Machine-ID":c||""},body:JSON.stringify(s)});if(!f.ok)throw f[l(455)]===401&&(P(l(556)),P(l(471)),P("== 提示：未注册设备由于浏览器功能限制，本地渲染结果显示到墨水屏上，文字可能会线条不平滑或缺少笔画。")),new Error("Failed to render remote template: "+f[l(535)]);const u=await f.blob();return new Promise((r,i)=>{const o=l,x=new Image;x[o(516)]=()=>{const h=o,d=t.getContext("2d");d[h(497)](0,0,t.width,t.height),d[h(466)](x,0,0,t[h(486)],t.height),r()},x[o(457)]=()=>{i(new Error("Failed to load rendered image"))},x.src=URL[o(552)](u)})}[R(438)](t){const e=R;try{const n=document[e(570)](t);if(!n){console[e(463)](e(453),t);return}n[e(534)]="";const c=document[e(514)](e(501));c[e(495)]="",c[e(439)]=e(529),n[e(496)](c);const l=Object.keys(this[e(425)]);l[e(467)]>0&&(n.innerHTML=l[e(452)](s=>{const f=e;return f(506)+s+'">'+s+f(451)})[e(480)](""))}catch(n){console[e(463)](e(555),n)}}}const Er={待办事项:{background:"#FFFFFF",missing:"empty",variables:{title:"今日待办",date:"2025-11-26",item1:"完成项目报告",item2:"回复客户邮件",item3:"团队会议 14:00",item4:"代码审查",item5:"更新文档",item6:"健身锻炼",footer:"专注当下，高效完成"},elements:[{type:"rect",x:0,y:0,width:400,height:60,color:"#FF0000",fill:!0},{type:"text",x:200,y:40,text:"{{title}}",font:"bold 24px Arial",color:"#FFFFFF",align:"center"},{type:"text",x:370,y:55,text:"{{date}}",font:"14px Arial",color:"#FFFFFF",align:"right"},{type:"text",x:30,y:100,text:"{{item1}}",font:"18px Arial",color:"#000000"},{type:"text",x:30,y:135,text:"{{item2}}",font:"18px Arial",color:"#000000"},{type:"text",x:30,y:170,text:"{{item3}}",font:"18px Arial",color:"#000000"},{type:"text",x:30,y:205,text:"{{item4}}",font:"18px Arial",color:"#000000"},{type:"text",x:30,y:240,text:"{{item5}}",font:"18px Arial",color:"#000000"},{type:"text",x:30,y:275,text:"{{item6}}",font:"18px Arial",color:"#000000"},{type:"text",x:200,y:290,text:"{{footer}}",font:"italic 12px Arial",color:"#000000",align:"center"}]},课程表:{background:"#FFFFFF",missing:"empty",variables:{title:"课程表",subtitle:"2024学年第一学期",mon1:"语文",mon2:"数学",mon3:"体育",mon4:"美术",mon5:"科学",mon6:"综合",mon7:"",tue1:"数学",tue2:"语文",tue3:"英语",tue4:"体育",tue5:"音乐",tue6:"德法",tue7:"",wed1:"数学",wed2:"英语",wed3:"科学",wed4:"语文",wed5:"体育",wed6:"书法",wed7:"音乐",thu1:"语文",thu2:"数学",thu3:"信息",thu4:"劳动",thu5:"德法",thu6:"体育",thu7:"",fri1:"英语",fri2:"语文",fri3:"数学",fri4:"美术",fri5:"心理",fri6:"体育",fri7:""},elements:[{type:"text",x:200,y:30,text:"{{title}}",font:"bold 28px Arial",color:"#FF0000",align:"center"},{type:"text",x:390,y:35,text:"{{subtitle}}",font:"12px Arial",color:"#000000",align:"right"},{type:"line",x1:5,y1:40,x2:395,y2:40,color:"#FF0000",width:2},{type:"line",x1:5,y1:79,x2:395,y2:79,color:"#FF0000",width:2},{type:"line",x1:40,y1:52,x2:40,y2:290,color:"#FF0000",width:1},{type:"line",x1:115,y1:52,x2:115,y2:290,color:"#FF0000",width:1},{type:"line",x1:185,y1:52,x2:185,y2:290,color:"#FF0000",width:1},{type:"line",x1:255,y1:52,x2:255,y2:290,color:"#FF0000",width:1},{type:"line",x1:325,y1:52,x2:325,y2:290,color:"#FF0000",width:1},{type:"line",x1:5,y1:109,x2:395,y2:109,color:"#000000",width:1},{type:"line",x1:5,y1:139,x2:395,y2:139,color:"#000000",width:1},{type:"line",x1:5,y1:169,x2:395,y2:169,color:"#000000",width:1},{type:"line",x1:5,y1:199,x2:395,y2:199,color:"#FF0000",width:2},{type:"line",x1:5,y1:229,x2:395,y2:229,color:"#000000",width:1},{type:"line",x1:5,y1:259,x2:395,y2:259,color:"#000000",width:1},{type:"rect",x:7,y:54,width:31,height:23,color:"#FF0000",fill:!0},{type:"rect",x:42,y:54,width:71,height:23,color:"#FF0000",fill:!0},{type:"rect",x:117,y:54,width:66,height:23,color:"#FF0000",fill:!0},{type:"rect",x:187,y:54,width:66,height:23,color:"#FF0000",fill:!0},{type:"rect",x:257,y:54,width:66,height:23,color:"#FF0000",fill:!0},{type:"rect",x:327,y:54,width:66,height:23,color:"#FF0000",fill:!0},{type:"text",x:22,y:70,text:"节",font:"12px Arial",color:"#FFFFFF",align:"center"},{type:"text",x:77,y:70,text:"一",font:"12px Arial",color:"#FFFFFF",align:"center"},{type:"text",x:150,y:70,text:"二",font:"12px Arial",color:"#FFFFFF",align:"center"},{type:"text",x:220,y:70,text:"三",font:"12px Arial",color:"#FFFFFF",align:"center"},{type:"text",x:290,y:70,text:"四",font:"12px Arial",color:"#FFFFFF",align:"center"},{type:"text",x:360,y:70,text:"五",font:"12px Arial",color:"#FFFFFF",align:"center"},{type:"rect",x:5,y:52,width:390,height:238,color:"#000000",fill:!1,strokeWidth:1},{type:"text",x:22,y:100,text:"1",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:22,y:130,text:"2",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:22,y:160,text:"3",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:22,y:190,text:"4",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:22,y:220,text:"1",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:22,y:250,text:"2",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:22,y:280,text:"3",font:"13px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:100,text:"{{mon1}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:130,text:"{{mon2}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:160,text:"{{mon3}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:190,text:"{{mon4}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:220,text:"{{mon5}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:250,text:"{{mon6}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:77,y:280,text:"{{mon7}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:100,text:"{{tue1}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:130,text:"{{tue2}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:160,text:"{{tue3}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:190,text:"{{tue4}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:220,text:"{{tue5}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:250,text:"{{tue6}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:150,y:280,text:"{{tue7}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:100,text:"{{wed1}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:130,text:"{{wed2}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:160,text:"{{wed3}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:190,text:"{{wed4}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:220,text:"{{wed5}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:250,text:"{{wed6}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:220,y:280,text:"{{wed7}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:100,text:"{{thu1}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:130,text:"{{thu2}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:160,text:"{{thu3}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:190,text:"{{thu4}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:220,text:"{{thu5}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:250,text:"{{thu6}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:290,y:280,text:"{{thu7}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:100,text:"{{fri1}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:130,text:"{{fri2}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:160,text:"{{fri3}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:190,text:"{{fri4}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:220,text:"{{fri5}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:250,text:"{{fri6}}",font:"15px Arial",color:"#000000",align:"center"},{type:"text",x:360,y:280,text:"{{fri7}}",font:"15px Arial",color:"#000000",align:"center"}]},个人名片:{background:"#FFFFFF",variables:{name:"张三",title:"软件工程师",phone:"18888888888",email:"john@example.com",website:"https://johndoe.dev",footer:"Empowering Innovation"},elements:[{type:"rect",x:0,y:0,width:400,height:80,color:"#FF0000",fill:!0},{type:"text",x:20,y:35,text:"{{name}}",font:"bold 24px Arial",color:"#FFFFFF"},{type:"text",x:20,y:65,text:"{{title}}",font:"bold 14px Arial",color:"#000000"},{type:"text",x:20,y:120,text:"电话：{{phone}}",font:"13px Arial",color:"#000000"},{type:"text",x:20,y:145,text:"邮箱：{{email}}",font:"13px Arial",color:"#000000"},{type:"text",x:20,y:170,text:"网站：{{website}}",font:"13px Arial",color:"#000000"},{type:"text",x:200,y:280,text:"{{footer}}",font:"30px Arial",color:"#FF0000",italic:!0,align:"center"},{type:"qrcode",x:260,y:100,data:"BEGIN:VCARD\\nVERSION:3.0\\nFN:{{name}}\\nTITLE:{{title}}\\nTEL:{{phone}}\\nEMAIL:{{email}}\\nURL:{{website}}\\nEND:VCARD",size:120,errorCorrection:"M"}]},WiFi连接:{background:"#FFFFFF",variables:{ssid:"MyNetwork",password:"Password123",encryption:"WPA"},elements:[{type:"text",x:200,y:35,text:"WiFi 连接",font:"bold 20px Arial",color:"#000000",align:"center"},{type:"qrcode",x:100,y:55,data:"WIFI:T:{{encryption}};S:{{ssid}};P:{{password}};;",size:180,errorCorrection:"H"},{type:"text",x:200,y:260,text:"网络: {{ssid}}",font:"14px Arial",color:"#000000",align:"center"},{type:"text",x:200,y:280,text:"扫码连接",font:"12px Arial",color:"#000000",align:"center"}]},二维码:{background:"#FFFFFF",variables:{title:"Visit Our Website",data:"https://github.com/tsl0922/EPD-nRF5",hint:"Scan to visit"},elements:[{type:"text",x:200,y:30,text:"{{title}}",font:"bold 20px Arial",color:"#000000",align:"center"},{type:"qrcode",x:100,y:50,data:"{{data}}",size:200,errorCorrection:"M"},{type:"text",x:200,y:280,text:"{{hint}}",font:"14px Arial",color:"#000000",align:"center"}]}};function At(){const a=["pointerEvents","cursor","text-input",`"
                 style="font-size: 12px;">
          <input type="hidden" data-var-name="`,"Error rendering template:","text-bold","isImageVariable","data-var-name","match","4740880eKRDuZ","eraser","mousemove","ctx","historyStack","setActiveTool","mousedown","display","text-placement-mode","touchend","clearRect","active",`"
                 value="`,"loadTemplateVariables","error","handleFileInputForVariable","onTouchEnd","add-text-btn","tmpl-vars","2px solid rgba(255, 0, 0, 0.7)","min","key","slice","preventDefault","textItalic","17510HOGphn","shiftKey",'"][type="hidden"]',"dragOffsetY","painting","ctrlKey","createElement","templateVarsKey","text-mode","change","16LeRktV","top","setItem",'input[type="file"][data-var-name]',"result",'" value="',"showTemplateVariableInputs","px) translate(-50%, -50%)","14586xlxYHv","onload","map","isTextPlacementMode","endPaint",`</label>
          <input type="text"
                 id="var-`,"log","text-italic","pendingCursorY","transform","disabled","brushSize","restoreFromHistory","cursorUpdateScheduled","brush-mode","画笔模式","touchstart","draggingCanvasContext","position","MAX_HISTORY","textBold","loadTemplates","shift","includes","mouseenter","getItem","setAttribute","isDraggingText","rgba(255, 255, 255, 0.2)","undo","getBoundingClientRect","#FFFFFF","keydown","578065iwmSmb","primary","redo",`"
                 accept="image/*"
                 data-var-name="`,"undo-btn","updateBrushCursor","length","parentNode","width","handleKeyboard","createBrushCursor","querySelectorAll","src","clientX","canvas","renderRemoteTemplate","currentTemplate","target","2px solid rgba(0, 0, 0, 0.5)","historyStep","putImageData","updateBrushCursorSize","正在远程渲染模板...","addEventListener",`"
                 data-var-name="`,"currentTool","bold ","files","keys","metaKey","40ffIEvj","tmpl","clearElements","点击画布放置文字","hide","10000","18TazhGB","templateManager","startPaint","1872730VCthiS","willChange","渲染模板失败: ","add","285195CjSlQh","tmpl-mode","brushCursor","Remote rendering failed:","none","placeText","加载模板失败: ","backgroundColor","parse","selectTemplate","dither-mode",`
        <div class="tmpl-var-container">
          <label for="var-`,"brush","right","#000000","some","mouseup","variables","data-tool","hideBrushCursor","elements","draw","8745948kidfRR","px, ","橡皮擦","template","value","getImageData","font-family","请输入文字内容","brush-size","left","loadTemplate","dispatchEvent","transparent","font","height","1398803jbOnpo","selectedTextElement","templateVars","toggle",`"
                 placeholder="`,"style","translate(","redo-btn","line","brush-color","cancelTextPlacement","Error loading template variables:","values","handleCanvasClick","type","0 0 0 1px black, inset 0 0 0 1px black","lastY","renderElement",`">
        </div>
      `,"translate(-50%, -50%)","getAttribute","dragText","stringify","saveTemplateVariables","image","touches","italic ","eraser-mode","innerHTML","模板渲染","getTemplateVariables","italic","remove","text","mode","font-size","onTouchMove","block","deleteTemplateVariables","classList","click","forEach","boxShadow","bind","findTextElementAt","pendingCursorX","readAsDataURL","Rendering template remotely","startTextPlacement","clientY","getElementById","brushColor","fixed","onTouchStart","message","border","lastX","paint","updateUndoRedoButtons","zIndex",'input[data-var-name="',"saveToHistory","push","dragOffsetX"];return At=function(){return a},At()}const S=Pe;(function(a,t){const e=Pe,n=a();for(;;)try{if(-parseInt(e(379))/1+parseInt(e(338))/2*(parseInt(e(422))/3)+parseInt(e(303))/4+parseInt(e(418))/5*(-parseInt(e(415))/6)+parseInt(e(459))/7*(-parseInt(e(409))/8)+-parseInt(e(444))/9+-parseInt(e(328))/10*(-parseInt(e(346))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(At,594946);function Pe(a,t){const e=At();return Pe=function(n,c){return n=n-269,e[n]},Pe(a,t)}class Or{constructor(t,e){const n=Pe;this[n(393)]=t,this[n(306)]=e,this[n(416)]=new wr(Er),this.template=new mr(e,t[n(387)],t[n(458)]),this[n(335)]=n(461),this.painting=!1,this[n(286)]=0,this[n(475)]=0,this[n(281)]=n(436),this[n(357)]=2,this[n(404)]=null,this[n(442)]=[],this[n(349)]=!1,this.draggingCanvasContext=null,this[n(460)]=null,this[n(373)]=!1,this.dragOffsetX=0,this[n(331)]=0,this[n(366)]=!1,this.textItalic=!1,this[n(424)]=null,this[n(307)]=[],this.historyStep=-1,this[n(365)]=50,this.startPaint=this.startPaint.bind(this),this.paint=this[n(287)][n(273)](this),this[n(350)]=this.endPaint[n(273)](this),this[n(472)]=this.handleCanvasClick[n(273)](this),this[n(283)]=this.onTouchStart[n(273)](this),this.onTouchMove=this[n(495)][n(273)](this),this[n(319)]=this.onTouchEnd[n(273)](this),this[n(388)]=this[n(388)].bind(this),this[n(384)]=this[n(384)][n(273)](this),this[n(441)]=this[n(441)][n(273)](this)}[S(291)](){const t=S;this[t(307)]=this[t(307)][t(325)](0,this[t(398)]+1);const e={imageData:this.ctx[t(449)](0,0,this.canvas.width,this[t(393)].height),elements:JSON.parse(JSON[t(481)](this.elements))};this.historyStack[t(292)](e),this[t(398)]++,this.historyStack[t(385)]>this.MAX_HISTORY&&(this.historyStack[t(368)](),this[t(398)]--),this[t(288)]()}clearHistory(){const t=S;this.historyStack=[],this[t(398)]=-1,this[t(288)]()}[S(375)](){const t=S;this.historyStep>0&&(this[t(398)]--,this[t(358)]())}[S(381)](){const t=S;this[t(398)]<this[t(307)][t(385)]-1&&(this[t(398)]++,this[t(358)]())}[S(358)](){const t=S;if(this[t(398)]>=0&&this[t(398)]<this.historyStack.length){const e=this[t(307)][this[t(398)]];this.ctx[t(399)](e.imageData,0,0),this[t(442)]=JSON[t(430)](JSON.stringify(e[t(442)])),this.updateUndoRedoButtons()}}updateUndoRedoButtons(){const t=S,e=document.getElementById(t(383)),n=document[t(280)](t(466));e&&(e[t(356)]=this.historyStep<=0),n&&(n[t(356)]=this[t(398)]>=this[t(307)][t(385)]-1)}initPaintTools(){const t=S;document.getElementById(t(360))[t(402)](t(270),()=>{const e=t;this[e(404)]===e(434)?this[e(308)](null,""):(this[e(308)]("brush",e(361)),this[e(281)]=document[e(280)]("brush-color")[e(448)])}),document[t(280)](t(486)).addEventListener(t(270),()=>{const e=t;this[e(404)]===e(304)?this.setActiveTool(null,""):(this.setActiveTool(e(304),e(446)),this[e(281)]=e(377))}),document.getElementById(t(336))[t(402)](t(270),()=>{const e=t;this[e(404)]==="text"?this[e(308)](null,""):(this[e(308)](e(492),"插入文字"),this[e(281)]=document[e(280)](e(468))[e(448)])}),document[t(280)](t(423))[t(402)](t(270),()=>{const e=t;this.currentTool===e(410)?this[e(308)](null,""):(this[e(308)](e(410),e(488)),this[e(367)]())}),document[t(280)](t(468))[t(402)]("change",e=>{const n=t;this[n(281)]=e.target.value}),document[t(280)](t(452))[t(402)]("input",e=>{const n=t;this.brushSize=parseInt(e.target[n(448)]),this.updateBrushCursorSize()}),document[t(280)](t(320))[t(402)](t(270),()=>this[t(278)]()),document[t(280)](t(299))[t(402)](t(270),()=>{const e=t;this[e(366)]=!this[e(366)],document[e(280)]("text-bold")[e(269)].toggle("primary",this[e(366)])}),document[t(280)](t(353))[t(402)](t(270),()=>{const e=t;this[e(327)]=!this[e(327)],document[e(280)](e(353))[e(269)].toggle(e(380),this.textItalic)}),document.getElementById("undo-btn")[t(402)]("click",()=>this[t(375)]()),document.getElementById(t(466)).addEventListener(t(270),()=>this[t(381)]()),this.canvas[t(402)](t(309),this[t(417)]),this[t(393)][t(402)](t(305),this[t(287)]),this[t(393)][t(402)](t(438),this.endPaint),this[t(393)][t(402)]("mouseleave",this[t(350)]),this.canvas[t(402)](t(270),this.handleCanvasClick),this.canvas[t(402)](t(362),this[t(283)]),this[t(393)][t(402)]("touchmove",this[t(495)]),this.canvas[t(402)](t(312),this[t(319)]),document[t(402)](t(378),this[t(388)]),this[t(393)][t(402)](t(370),this[t(384)]),this.canvas[t(402)](t(305),this.updateBrushCursor),this.createBrushCursor(),this[t(291)]()}[S(388)](t){const e=S;(t[e(333)]||t.metaKey)&&t[e(324)]==="z"&&!t.shiftKey?(t[e(326)](),this.undo()):(t[e(333)]||t[e(408)])&&(t.key==="y"||t[e(329)]&&t[e(324)]==="z")&&(t.preventDefault(),this[e(381)]())}[S(308)](t,e){const n=S;Te(e),this[n(404)]=t,this[n(393)][n(386)][n(269)][n(462)](n(360),this[n(404)]===n(434)),this[n(393)].parentNode[n(269)].toggle("eraser-mode",this[n(404)]==="eraser"),this.canvas[n(386)][n(269)].toggle(n(336),this.currentTool===n(492)),this[n(393)][n(386)].classList.toggle(n(423),this[n(404)]==="tmpl"),document.getElementById(n(360))[n(269)][n(462)](n(314),this.currentTool===n(434)),document[n(280)](n(486))[n(269)][n(462)](n(314),this[n(404)]===n(304)),document[n(280)]("text-mode")[n(269)][n(462)](n(314),this[n(404)]==="text"),document[n(280)](n(423)).classList[n(462)](n(314),this[n(404)]===n(410)),document[n(280)](n(468)).disabled=this.currentTool===n(304),document[n(280)](n(452)).disabled=this[n(404)]==="text",document[n(280)](n(383)).classList.toggle("hide",this[n(404)]===null),document.getElementById(n(466))[n(269)][n(462)](n(413),this.currentTool===null),this[n(469)]()}[S(389)](){const t=S;this[t(424)]=document[t(334)]("div"),this[t(424)].id="brush-cursor",this[t(424)][t(464)][t(364)]=t(282),this[t(424)][t(464)].border=t(397),this[t(424)].style.borderRadius="50%",this[t(424)].style[t(294)]=t(426),this[t(424)][t(464)][t(310)]=t(426),this[t(424)][t(464)][t(289)]=t(414),this[t(424)].style[t(355)]=t(478),this.brushCursor[t(464)][t(419)]=t(355),this[t(424)][t(464)][t(453)]="0",this[t(424)].style.top="0",document.body.appendChild(this[t(424)]),this[t(400)](),this[t(359)]=!1,this[t(275)]=0,this[t(354)]=0}[S(400)](){const t=S;if(!this[t(424)])return;const e=this.canvas.getBoundingClientRect(),n=e.width/this[t(393)][t(387)],c=e.height/this[t(393)][t(458)],l=Math[t(323)](n,c),s=this[t(357)]*l;this[t(424)][t(464)][t(387)]=s+"px",this[t(424)][t(464)][t(458)]=s+"px"}updateBrushCursor(t){const e=S;if(this[e(424)]&&(this.currentTool==="brush"||this[e(404)]===e(304))){const n=this[e(393)][e(376)]();t.clientX>=n.left&&t[e(392)]<=n[e(435)]&&t[e(279)]>=n[e(339)]&&t[e(279)]<=n.bottom?(this.brushCursor.style[e(310)]=e(496),this[e(393)].style[e(295)]=e(426),this[e(275)]=t.clientX,this[e(354)]=t.clientY,!this[e(359)]&&(this[e(359)]=!0,requestAnimationFrame(()=>{const l=e;this[l(424)][l(464)].transform=l(465)+this[l(275)]+l(445)+this[l(354)]+l(345),this.cursorUpdateScheduled=!1})),this[e(404)]==="eraser"?this[e(424)][e(479)](e(440))!==e(304)&&(this[e(424)][e(464)][e(285)]=e(322),this[e(424)][e(464)][e(429)]=e(374),this[e(424)][e(464)][e(272)]="none",this[e(424)].setAttribute(e(440),"eraser")):this[e(424)].getAttribute(e(440))!==e(434)&&(this[e(424)][e(464)][e(285)]="1px solid white",this[e(424)][e(464)][e(272)]=e(474),this[e(424)][e(464)][e(429)]=e(456),this.brushCursor[e(372)]("data-tool",e(434)))):this[e(424)][e(464)][e(310)]=e(426)}}[S(441)](){const t=S;this[t(424)]&&(this.brushCursor.style[t(310)]=t(426)),this[t(393)][t(464)][t(295)]="default"}[S(417)](t){const e=S;if(this[e(404)])if(this.currentTool===e(492)){const n=this[e(274)](t);if(n&&n===this[e(460)]){this[e(373)]=!0;const c=this.canvas[e(376)](),l=this.canvas[e(387)]/c[e(387)],s=this[e(393)][e(458)]/c[e(458)],f=(t[e(392)]-c[e(453)])*l,u=(t[e(279)]-c[e(339)])*s;this.dragOffsetX=n.x-f,this[e(331)]=n.y-u;return}}else(this.currentTool==="brush"||this[e(404)]===e(304))&&(this[e(332)]=!0,this[e(443)](t))}[S(350)](){const t=S;(this[t(332)]||this.isDraggingText)&&this.saveToHistory(),this[t(332)]=!1,this[t(373)]=!1,this[t(286)]=0,this[t(475)]=0,this.hideBrushCursor()}[S(287)](t){const e=S;this[e(404)]&&(this[e(404)]===e(492)?this[e(373)]&&this[e(460)]&&this[e(480)](t):this.painting&&this[e(443)](t))}[S(443)](t){const e=S,n=this[e(393)][e(376)](),c=this[e(393)].width/n.width,l=this[e(393)].height/n.height,s=(t[e(392)]-n[e(453)])*c,f=(t.clientY-n[e(339)])*l;let u;this[e(286)]===0&&this[e(475)]===0?u={type:"circle",x:s,y:f,radius:this[e(357)]/2,color:this[e(281)],fill:!0}:u={type:e(467),x1:this.lastX,y1:this[e(475)],x2:s,y2:f,color:this[e(281)],width:this[e(357)]},this.elements[e(292)](u),this[e(447)][e(476)](u),this[e(286)]=s,this[e(475)]=f}handleCanvasClick(t){const e=S;this[e(404)]===e(492)&&this.isTextPlacementMode&&this[e(427)](t)}[S(283)](t){const e=S;t[e(326)]();const n=t.touches[0];if(this.currentTool==="text"&&this.isTextPlacementMode){const l=new MouseEvent("click",{clientX:n.clientX,clientY:n[e(279)]});this.canvas.dispatchEvent(l);return}const c=new MouseEvent("mousedown",{clientX:n[e(392)],clientY:n[e(279)]});this[e(393)][e(455)](c)}[S(495)](t){const e=S;t[e(326)]();const n=t[e(484)][0],c=new MouseEvent(e(305),{clientX:n[e(392)],clientY:n[e(279)]});this[e(393)].dispatchEvent(c)}[S(319)](t){const e=S;t[e(326)](),this[e(350)]()}[S(480)](t){const e=S,n=this[e(393)][e(376)](),c=this.canvas[e(387)]/n[e(387)],l=this.canvas[e(458)]/n[e(458)],s=(t[e(392)]-n[e(453)])*c,f=(t[e(279)]-n[e(339)])*l;this[e(460)].x=s+this[e(293)],this.selectedTextElement.y=f+this[e(331)],this.draggingCanvasContext?this[e(306)][e(399)](this.draggingCanvasContext,0,0):this[e(306)][e(313)](0,0,this[e(393)].width,this[e(393)][e(458)]),this[e(447)].renderElement(this[e(460)])}[S(274)](t){const e=S,n=this[e(393)][e(376)](),c=this[e(393)][e(387)]/n[e(387)],l=this.canvas[e(458)]/n.height,s=(t[e(392)]-n[e(453)])*c,f=(t[e(279)]-n[e(339)])*l;for(let u=this[e(442)][e(385)]-1;u>=0;u--){const r=this[e(442)][u];if(r[e(473)]!==e(492))continue;const i=(r[e(490)]?e(485):"")+(r.bold?e(405):"");this[e(306)][e(457)]=i+r[e(457)];const o=this[e(306)].measureText(r[e(492)])[e(387)],x=r.font[e(302)](/(\d+)px/),h=x?parseInt(x[1]):14,d=h*1.2,_=5;if(s>=r.x-_&&s<=r.x+o+_&&f>=r.y-d+_&&f<=r.y+_)return r}return null}[S(278)](){const t=S;if(!document.getElementById(t(296))[t(448)].trim()){alert(t(451));return}this[t(349)]=!0,Te(t(412)),this[t(393)].classList[t(421)](t(311))}[S(469)](){const t=S;this[t(349)]=!1,this[t(393)][t(269)][t(491)](t(311)),this[t(373)]=!1,this[t(293)]=0,this[t(331)]=0,this[t(460)]=null,this.draggingCanvasContext=null}[S(427)](t){const e=S,n=this[e(393)].getBoundingClientRect(),c=this[e(393)][e(387)]/n[e(387)],l=this[e(393)][e(458)]/n.height,s=(t.clientX-n[e(453)])*c,f=(t[e(279)]-n[e(339)])*l,u=document[e(280)]("text-input")[e(448)],r=document[e(280)](e(450))[e(448)],i=document[e(280)](e(494))[e(448)],o={type:"text",text:u,x:s,y:f,font:i+"px "+r,color:this.brushColor,bold:this[e(366)],italic:this[e(327)]};this.elements[e(292)](o),this[e(460)]=o,this[e(363)]=this[e(306)][e(449)](0,0,this[e(393)].width,this.canvas[e(458)]),this[e(447)][e(476)](o),this[e(291)](),document[e(280)](e(296))[e(448)]="",this[e(349)]=!1,this.canvas.classList[e(491)](e(311)),Te("拖动新添加文字可调整位置")}async redrawElements(){const t=S;for(const e of this[t(442)])await this[t(447)].renderElement(e)}[S(411)](){const t=S;this[t(442)]=[]}[S(482)](t,e){const n=S;try{const c=JSON[n(430)](localStorage[n(371)](this[n(335)])||"{}");c[t]=e,localStorage[n(340)](this[n(335)],JSON[n(481)](c))}catch(c){console.error("Error saving template variables:",c)}}[S(497)](t){const e=S;try{const n=JSON[e(430)](localStorage.getItem(this[e(335)])||"{}");n[t]&&(delete n[t],localStorage[e(340)](this.templateVarsKey,JSON[e(481)](n)))}catch(n){console[e(317)]("Error deleting template variables:",n)}}loadTemplateVariables(t){const e=S;try{return JSON[e(430)](localStorage[e(371)](this[e(335)])||"{}")[t]||null}catch(n){return console[e(317)](e(470),n),null}}loadTemplates(){const t=S;this[t(416)].loadTemplatesIntoSelect(t(410)),this[t(431)]()}[S(431)](){const t=S,e=document.getElementById(t(410))[t(448)];if(!e||e===""){this[t(395)]=null;const n=document[t(280)](t(321));n[t(487)]="";return}this[t(454)](e)}async loadTemplate(t){const e=S;let n=this[e(416)].getTemplate(t);if(n)try{this[e(395)]=n,this[e(344)](n),await this.renderTemplateWithVars()}catch(c){console[e(317)]("Error loading template:",c),alert(e(428)+c[e(284)])}}[S(300)](t,e){const n=S;return e.elements?e[n(442)].some(c=>c[n(473)]===n(483)&&c[n(391)]&&c[n(391)][n(369)]("{{"+t+"}}")):!1}[S(318)](t,e){const n=S,c=t[n(396)][n(406)][0];if(!c)return;const l=new FileReader;l[n(347)]=s=>{const f=n,u=document.querySelector(f(290)+e+f(330));u&&(u[f(448)]=s[f(396)][f(342)])},l[n(276)](c)}[S(344)](t){const e=S,n=t[e(439)];if(!n||Object[e(407)](n).length===0)return;const c=document[e(280)](e(410))[e(448)],l=this[e(316)](c),s=document[e(280)](e(321));s[e(487)]=Object[e(407)](n)[e(348)](f=>{const u=e;return this[u(300)](f,t)?u(433)+f+'">'+f+` 📷</label>
          <input type="file"
                 id="var-`+f+u(382)+f+u(297)+f+u(343)+(n[f]||"")+u(477):u(433)+f+'">'+f+u(351)+f+u(403)+f+u(315)+(l&&l[f]||"")+u(463)+(n[f]||"")+`">
        </div>
      `}).join(""),s[e(390)](e(341)).forEach(f=>{const u=e;f[u(402)](u(337),r=>{const i=u,o=f.getAttribute(i(301));this.handleFileInputForVariable(r,o)})})}[S(489)](){const t=S,e={};return document.getElementById(t(321))[t(390)]("input[data-var-name]")[t(271)](c=>{const l=t,s=c.getAttribute(l(301));c[l(448)]&&(e[s]=c[l(448)])}),e}async renderTemplateWithVars(){const t=S;if(!(!this.currentTemplate||this.currentTool!==t(410)))try{const e=this[t(489)]();this[t(447)].width=this.canvas.width,this.template.height=this[t(393)][t(458)],this[t(395)][t(442)][t(271)](l=>{const s=t;l[s(473)]==="image"&&l.dither&&(l.dither[s(493)]=document.getElementById(s(432))[s(448)])}),await this[t(447)].render(this[t(395)],e),await this.redrawElements(),this[t(291)]();const n=document[t(280)](t(410))[t(448)];if(!n)return;Object[t(471)](e)[t(437)](l=>l&&l.trim()!=="")?this[t(482)](n,e):this[t(316)](n)&&this.deleteTemplateVariables(n)}catch(e){console[t(317)](t(298),e),alert(t(420)+e.message)}}async renderRemoteTemplate(t){const e=S;if(!(!this.currentTemplate||this.currentTool!=="tmpl"))try{console[e(352)](e(277)),Dt(e(401));const n=this[e(489)]();await this.templateManager[e(394)](this[e(393)],this[e(395)],n,t)}catch(n){console[e(317)](e(425),n)}}}function St(){const a=["裁剪模式: 可用鼠标滚轮或双指触摸缩放图片","classList","exitCropMode","crop-move-left","12583ZkQyna","crop-move-up","7youWfv","lastPanX","style","createObjectURL","backgroundPanY","86vQsuzH","touches","handleBackgroundPan","width","1076155XQBVov","5697ZOYtgu","finishCrop","cursor","no-repeat","initCropTools","add","touchmove","mouseleave","files","getElementById","bind","handleTouchStart","clearRect","ctx","handleBackgroundPanEnd","drawImage","backgroundRepeat","sqrt","clientX","lastPanY","length","getTouchDistance","min","mouseup","white","265672pSsImx","27897595uXWMxg","crop-mode","px ","wheel","9060hToPMd","touchcancel","grabbing","removeEventListener","addEventListener","touchstart","4341258WzEgNi","clientY","isPanning","deltaY","grab","touchend","mousemove","handleTouchMove","image-file","mousedown","crop-zoom-out","max","20DxoYgh","crop-move-right","100%","backgroundPanX","preventDefault","updateBackgroundTransform","contains","280527OucrFn","crop-zoom-in","getBoundingClientRect","handleBackgroundZoom","handleBackgroundPanStart","canvas","click","backgroundImage","initializeCrop","backgroundPosition","parentNode","backgroundZoom","height","backgroundSize","lastTouchDistance"];return St=function(){return a},St()}const L=le;function le(a,t){const e=St();return le=function(n,c){return n=n-207,e[n]},le(a,t)}(function(a,t){const e=le,n=a();for(;;)try{if(-parseInt(e(256))/1*(parseInt(e(263))/2)+-parseInt(e(237))/3*(parseInt(e(230))/4)+parseInt(e(267))/5+parseInt(e(218))/6*(-parseInt(e(258))/7)+parseInt(e(207))/8+parseInt(e(268))/9*(-parseInt(e(212))/10)+parseInt(e(208))/11===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(St,478930);class Ar{constructor(t,e){const n=le;this[n(242)]=t,this[n(281)]=e,this.backgroundZoom=1,this.backgroundPanX=0,this[n(262)]=0,this.isPanning=!1,this.lastPanX=0,this[n(287)]=0,this[n(251)]=0,this[n(240)]=this[n(240)][n(278)](this),this.handleBackgroundPanStart=this[n(241)][n(278)](this),this.handleBackgroundPan=this[n(265)][n(278)](this),this[n(282)]=this[n(282)][n(278)](this),this[n(279)]=this[n(279)].bind(this),this[n(225)]=this[n(225)][n(278)](this)}resetStates(){const t=le;this[t(248)]=1,this[t(233)]=0,this[t(262)]=0,this[t(220)]=!1,this[t(259)]=0,this.lastPanY=0,this[t(251)]=0}isCropMode(){const t=le;return this.canvas[t(247)][t(253)][t(236)](t(209))}[L(254)](){const t=L;this.canvas[t(247)][t(253)].remove(t(209)),Te(""),this[t(242)][t(215)](t(211),this[t(240)]),this[t(242)][t(215)](t(227),this.handleBackgroundPanStart),this[t(242)][t(215)]("mousemove",this.handleBackgroundPan),this[t(242)][t(215)](t(291),this[t(282)]),this[t(242)][t(215)](t(275),this.handleBackgroundPanEnd),this[t(242)].removeEventListener(t(217),this.handleTouchStart),this[t(242)][t(215)](t(274),this[t(225)]),this.canvas[t(215)](t(223),this[t(282)]),this[t(242)].removeEventListener(t(213),this[t(282)])}[L(245)](){const t=L,e=document[t(277)](t(226));e[t(276)].length!=0&&(this[t(254)](),this.resetStates(),this[t(242)][t(260)][t(244)]="url("+URL.createObjectURL(e.files[0])+")",this[t(242)][t(260)][t(250)]=t(232),this[t(242)][t(260)][t(246)]="",this[t(242)][t(260)][t(284)]=t(271),this[t(242)].addEventListener("wheel",this[t(240)]),this[t(242)][t(216)](t(227),this[t(241)]),this[t(242)].addEventListener(t(224),this[t(265)]),this[t(242)][t(216)](t(291),this.handleBackgroundPanEnd),this.canvas[t(216)]("mouseleave",this.handleBackgroundPanEnd),this[t(242)][t(216)](t(217),this[t(279)]),this[t(242)].addEventListener(t(274),this.handleTouchMove),this[t(242)][t(216)](t(223),this[t(282)]),this[t(242)][t(216)](t(213),this.handleBackgroundPanEnd),this[t(281)][t(280)](0,0,this[t(242)][t(266)],this.canvas[t(249)]),Te(t(252)),this[t(242)][t(247)].classList[t(273)](t(209)))}[L(269)](t){const e=L,n=document[e(277)](e(226));if(n.files[e(288)]==0)return;const c=new Image;c.onload=()=>{const l=e;URL.revokeObjectURL(c.src);const s=this[l(242)][l(239)](),f=c[l(266)]/s[l(266)]/this[l(248)],u=-this[l(233)]*f,r=-this[l(262)]*f,i=s[l(266)]*f,o=s[l(249)]*f;Ut(l(292)),this[l(281)][l(283)](c,u,r,i,o,0,0,this[l(242)].width,this[l(242)][l(249)]),this[l(254)](),t&&t()},c.src=URL[e(261)](n[e(276)][0])}[L(279)](t){const e=L;t[e(234)](),t[e(264)][e(288)]===1?this[e(241)](t[e(264)][0]):t[e(264)][e(288)]===2&&(this[e(220)]=!1,this[e(251)]=this.getTouchDistance(t[e(264)]))}[L(225)](t){const e=L;if(t[e(234)](),this[e(220)]&&t[e(264)].length===1)this.handleBackgroundPan(t[e(264)][0]);else if(t[e(264)][e(288)]===2){const n=this[e(289)](t[e(264)]);if(this[e(251)]>0){const c=n/this[e(251)];this.backgroundZoom*=c,this[e(248)]=Math[e(229)](.1,Math.min(5,this[e(248)])),this[e(235)]()}this[e(251)]=n}}[L(240)](t){const e=L;t.preventDefault();const n=t[e(221)]>0?.9:1.1;this[e(248)]*=n,this.backgroundZoom=Math[e(229)](.1,Math[e(290)](5,this[e(248)])),this[e(235)]()}[L(241)](t){const e=L;this[e(220)]=!0,this[e(259)]=t[e(286)],this[e(287)]=t.clientY,this[e(242)][e(260)].cursor=e(214)}handleBackgroundPan(t){const e=L;if(this[e(220)]){const n=t[e(286)]-this[e(259)],c=t[e(219)]-this[e(287)];this[e(233)]+=n,this[e(262)]+=c,this[e(259)]=t[e(286)],this[e(287)]=t.clientY,this[e(235)]()}}[L(282)](){const t=L;this[t(220)]=!1,this[t(251)]=0,this[t(242)][t(260)][t(270)]=t(222)}[L(235)](){const t=L;this[t(242)][t(260)][t(250)]=100*this[t(248)]+"%",this[t(242)][t(260)][t(246)]=this[t(233)]+t(210)+this[t(262)]+"px"}[L(289)](t){const e=L,n=t[0],c=t[1];return Math[e(285)](Math.pow(c[e(286)]-n[e(286)],2)+Math.pow(c[e(219)]-n[e(219)],2))}[L(272)](){const t=L;document.getElementById(t(238))[t(216)](t(243),e=>{const n=t;e.preventDefault(),this[n(240)]({preventDefault:()=>{},deltaY:-1})}),document[t(277)](t(228))[t(216)](t(243),e=>{const n=t;e[n(234)](),this[n(240)]({preventDefault:()=>{},deltaY:1})}),document[t(277)](t(255))[t(216)](t(243),e=>{const n=t;e[n(234)](),this[n(233)]-=10,this[n(235)]()}),document.getElementById(t(231))[t(216)]("click",e=>{const n=t;e[n(234)](),this.backgroundPanX+=10,this[n(235)]()}),document[t(277)](t(257)).addEventListener(t(243),e=>{const n=t;e.preventDefault(),this[n(262)]-=10,this[n(235)]()}),document[t(277)]("crop-move-down")[t(216)](t(243),e=>{const n=t;e[n(234)](),this[n(262)]+=10,this[n(235)]()})}}const T=ke;(function(a,t){const e=ke,n=a();for(;;)try{if(parseInt(e(525))/1+-parseInt(e(491))/2*(parseInt(e(543))/3)+parseInt(e(539))/4+-parseInt(e(443))/5*(parseInt(e(449))/6)+parseInt(e(568))/7+parseInt(e(521))/8*(parseInt(e(594))/9)+-parseInt(e(459))/10*(-parseInt(e(676))/11)===t)break;n.push(n.shift())}catch{n.push(n.shift())}})(Mt,529008);let K,re,mt,fe,Nt,cn,ce,Tt,jt,k,U,qt,X,Z;const ie={SET_PINS:0,INIT:1,CLEAR:2,SEND_CMD:3,SEND_DATA:4,REFRESH:5,SLEEP:6,SET_TIME:32,WRITE_IMG:48,SET_CONFIG:144,SYS_RESET:145,SYS_SLEEP:146,CFG_ERASE:153},Sr=[{name:T(575),width:152,height:152},{name:T(656),width:200,height:200},{name:T(526),width:212,height:104},{name:T(619),width:250,height:122},{name:T(664),width:296,height:152},{name:T(477),width:296,height:128},{name:"2.9_384_168",width:384,height:168},{name:"3.5_384_184",width:384,height:184},{name:T(478),width:416,height:240},{name:T(581),width:800,height:480},{name:T(501),width:400,height:300},{name:T(614),width:792,height:272},{name:T(465),width:600,height:448},{name:T(537),width:648,height:480},{name:T(624),width:640,height:384},{name:T(635),width:800,height:480},{name:T(438),width:880,height:528},{name:"10.2_960_640",width:960,height:640},{name:T(648),width:1360,height:480},{name:T(523),width:960,height:640},{name:T(464),width:600,height:400},{name:T(528),width:480,height:800}];function fn(a){const t=T;for(var e=[],n=0;n<a[t(549)];n+=2)e.push(parseInt(a.substr(n,2),16));return new Uint8Array(e)}function bt(a){const t=T;return new Uint8Array(a)[t(550)](function(e,n){const c=t;return e+("0"+n[c(612)](16))[c(448)](-2)},"")}function Dt(a){const t=T;document[t(567)](t(625))[t(456)]=a}function Te(a){const t=T,e=document[t(654)](".canvas-title");e&&(e.innerText=a,e[t(555)][t(460)]=t(a&&a!==""?505:451))}function ke(a,t){const e=Mt();return ke=function(n,c){return n=n-436,e[n]},ke(a,t)}function Ut(a){const t=T;U[t(483)]=a,U[t(446)](0,0,k[t(571)],k[t(582)])}function $t(){const a=T;re=null,mt=null,fe=null,cn=0,jt="",ce=null,Tt=!0,document[a(567)](a(484))[a(608)]=""}async function ee(a,t,e=!0){const n=T;if(!fe)return Dt("服务不可用，请检查蓝牙连接"),!1;let c=[a];t&&(typeof t=="string"&&(t=fn(t)),t instanceof Uint8Array&&(t=Array.from(t)),c[n(604)](...t));try{e?await fe.writeValueWithResponse(Uint8Array[n(679)](c)):await fe[n(633)](Uint8Array.from(c))}catch(l){return console.error(l),!1}return!0}async function ge(a,t="bw"){const e=T,n=document[e(567)](e(658))[e(608)]-2,c=document[e(567)](e(514))[e(608)],l=Math[e(598)](a[e(549)]/n);let s=0,f=c,u=0;for(let r=0;r<a[e(549)];r+=n){let i=(new Date()[e(479)]()-Nt)/1e3;Dt((t=="bw"?"黑白":"颜色")+e(674)+(s+1)+"/"+(l+1)+e(548)+i+"s");const o=[(t=="bw"?15:0)|(r==0?0:240),...a[e(448)](r,r+n)];f>0?(await ee(ie[e(591)],o,!1)||u++,f--):(await ee(ie[e(591)],o,!0)||u++,f=c),s++}return u}async function Tr(){const a=T;await ee(ie[a(606)],document.getElementById(a(661)).value),await ee(ie[a(469)],document[a(567)](a(637))[a(608)])}async function W0(a){const t=T;if(a===2&&Tt&&!confirm(t(605)))return;const e=new Date()[t(479)]()/1e3,n=new Uint8Array([e>>24&255,e>>16&255,e>>8&255,e&255,-(new Date()[t(660)]()/60),a]);await ee(ie[t(436)],n)&&(P(t(682)),P(t(462)))}async function Mr(){const a=T;confirm(a(662))&&(await ee(ie[a(642)]),P(a(613)),P(a(462)))}async function Ir(){const a=T,t=document[a(567)](a(669))[a(608)];if(t=="")return;const e=fn(t);await ee(e[0],e[a(549)]>1?e[a(448)](1):null)}function Mt(){const a=["selectTemplate","target","• 电脑: Chrome/Edge","finishCrop","2.9_296_128","3.7_416_240","getTime","setAttribute","dither-strength-value","addEventListener","fillStyle","log","getPrimaryService","const uint16_t imageHeight = ","dither-strength","action","drawImage","textContent","8NWamnt","正常模式","dither-contrast","REFRESH","calendar-mode","setActiveTool","  找到 EPD Service","请先完成图片裁剪！发送已取消。","?debug=true","sid=","4.2_400_300","  找到 Characteristic","readValue","isCropMode","block","发送完成！","tmpl-manage","connect: ","getSeconds","data-color","download","0000","dither-mode","interleaved-count","revokeObjectURL","location","initializeCrop","send-cmd","exitCropMode","• iOS: Bluefy 浏览器","4168MCIrLd","dither-brightness","11.6_960_640","clearHistory","44799YHPoNX","2.13_212_104","open","7.3E6","错误：预期","appendChild","template.html","const uint16_t imageWidth = ","getHours","set-driver","getUint8","div","5.83_648_480","files","1565792omTYeh","change","startNotifications","get","647187aexWdw","white","input","saveToHistory","tmpl-refresh",", 总用时: ","length","reduce","true","dither-alg","reconnect","startsWith","style","initCropTools","https://tsl0922.github.io/EPD-nRF5/v1.5","请先完成图片裁剪！下载已取消。","onload","connect","getAttribute","pathname","classList","setTransform","刷新模式","body","getElementById","3334121htfjBX","bluetooth","fourColor","width","options","getMinutes","createElement","1.54_152_152","本地时间: ","gattserverdisconnected","byteLength","clock-mode","name","3.97_800_480","height","join","dither-contrast-value","canvas","toFixed","请检查蓝牙是否已开启，且使用的浏览器支持蓝牙！建议使用以下浏览器：","find","remove","innerText","WRITE_IMG","getContext","buffer","387InSHbR","canvas-size","padStart","正在连接: ","round","clear-screen","putImageData","getCharacteristic","parentElement","const uint8_t colorMode = ","push","提醒：时钟模式目前使用全刷实现，此功能目前多用于修复老化屏残影问题，不建议长期开启，是否继续？","SET_PINS","number","value","提醒：此固件版本不支持时钟模式，已切换为刷新模式按钮。","62750002-d828-918d-fb46-b6c11c675aec","color","toString","清屏指令已发送！","5.79_792_272","disabled","正在重连","tmpl-render","getImageData","2.13_250_122","debug-toggle","error","createTextNode","dark-mode","7.5_640_384","status","开发模式","tmpl","如遇到问题，可访问旧版本上位机: ","发送耗时: ","byteOffset","clock_enable=","removeChild","writeValueWithoutResponse","scrollHeight","7.5_800_480",`图片宽高比例与画布不匹配，将进入裁剪模式。
请放大图片后移动图片使其充满画布, 再点击"完成"按钮。`,"epd-driver","renderRemoteTemplate","imagedata.h","收到配置：","blackWhiteColor","CLEAR","disconnect","substring",`!!!注意!!!
当前固件版本过低，可能无法正常使用部分功能，建议升级到最新版本。`,"远端时间: ","sixColor","10.85_1360_480","red","translate","警告：画布尺寸和驱动不匹配，是否继续？","connected","startNotifications: ","querySelector","• Android: Chrome/Edge","1.54_200_200","data","mtu-size","toLocaleString","getTimezoneOffset","epd-pins","确认清除屏幕内容?","requestDevice","2.66_296_152","固件版本: 0x","scrollTop","crop-finish","警告：颜色模式和驱动不匹配，是否继续？","cmdTXT","click","时钟模式","const uint8_t imageData[] PROGMEM = {","mtu=","块: ","MTU 已更新为: ","1856723ildQXD","span","substr","from","debug","characteristicvaluechanged","时间已同步！","gatt","SET_TIME","className","7.5_880_528","floor","data-size","clearElements","decode","1934970XqKJqF","clear-log","62750001-d828-918d-fb46-b6c11c675aec","fillRect","message","slice","6xdolEf","rotate-canvas","none","是否访问旧版本上位机？","download-array","src","image-file","innerHTML","text/plain","initPaintTools","50mORoCi","display","字节，但得到","屏幕刷新完成前请不要操作。","  找到 GATT Server","4E_600_400","5.83_600_448","requestDevice: ","href","renderTemplateWithVars","INIT","selectedIndex","已断开连接.","redrawElements"];return Mt=function(){return a},Mt()}function Y0(a,t){const e=a.length;let n=new Uint8Array(e*4),c=0,l,s,f;for(let u=0;u<e;u++){l=a[u],s=t[u];for(let r=0;r<8;r++)(s&128)==0?f=4:(l&128)==0?f=0:f=3,f=f<<4&255,l=l<<1&255,s=s<<1&255,r++,(s&128)==0?f|=4:(l&128)==0?f|=0:f|=3,l=l<<1&255,s=s<<1&255,n[c++]=f}return n}async function Rr(){const a=T;if(Z[a(504)]()){alert(a(498));return}const t=document.getElementById(a(595)).value,e=document[a(567)]("dither-mode").value,n=document[a(567)](a(637)),c=n.options[n[a(470)]];if(c&&(c.getAttribute("data-size")!==t&&!confirm(a(651))||c[a(561)](a(510))!==e&&!confirm(a(668))))return;const l=document.getElementById(a(625));l[a(602)][a(555)][a(460)]="block",await X[a(638)](jt);const s=U[a(618)](0,0,k[a(571)],k[a(582)]),f=Rt(s,e);ye(!0),Nt=new Date()[a(479)]();let u=0;if(await ee(ie[a(469)]),e===a(570))u+=await ge(f,a(611));else if(e==="threeColor"){const o=Math[a(439)](f.length/2),x=f.slice(0,o),h=f[a(448)](o);n[a(608)]==="08"||n[a(608)]==="09"?u+=await ge(Y0(x,h),"bw"):(u+=await ge(x,"bw"),u+=await ge(h,a(649)))}else if(e==="blackWhiteColor")if(n[a(608)]==="08"||n.value==="09"){const o=new Uint8Array(f.length).fill(255);u+=await ge(Y0(f,o),"bw")}else u+=await ge(f,"bw");else{P("当前固件不支持此颜色模式。"),ye();return}await ee(ie[a(494)]),ye();const r=(new Date()[a(479)]()-Nt)/1e3;let i=a(629)+r+"s";u>0&&(i+=", 失败块数: "+u),P("发送完成！"+i),Dt(a(506)+i),P(a(462)),setTimeout(()=>{const o=a;l.parentElement.style[o(460)]=o(451)},5e3)}function Pr(){const a=T;if(Z[a(504)]()){alert(a(558));return}const t=document.getElementById(a(513))[a(608)],e=U[a(618)](0,0,k[a(571)],k.height),n=Rt(e,t);if(t===a(647)&&n[a(549)]!==k.width*k[a(582)]){console.log(a(529)+k[a(571)]*k[a(582)]+a(461)+n[a(549)]+"字节"),P("数组大小不匹配。请检查图像尺寸和模式。");return}const c=[];for(let i=0;i<n[a(549)];i++){const o=(n[i]&255).toString(16)[a(596)](2,"0");c[a(604)]("0x"+o)}const l=[];for(let i=0;i<c[a(549)];i+=16)l.push(c[a(448)](i,i+16)[a(583)](", "));const s=t===a(647)?0:t===a(570)?1:t===a(641)?2:3,f=[a(672),l[a(583)](`,
`),"};",a(532)+k[a(571)]+";",a(486)+k[a(582)]+";",a(603)+s+";"][a(583)](`
`),u=new Blob([f],{type:a(457)}),r=document[a(574)]("a");r[a(511)]=a(639),r[a(467)]=URL.createObjectURL(u),r[a(670)](),URL[a(515)](r.href)}function ye(a=!1){const t=T,e=re!=null&&re[t(652)],n=a?t(615):e?null:t(615);document[t(567)](t(553))[t(615)]=re==null||re[t(652)]?t(615):null,document[t(567)](t(518))[t(615)]=n,document[t(567)](t(495)).disabled=n,document[t(567)](t(579))[t(615)]=n,document.getElementById(t(599)).disabled=n,document.getElementById("send-image")[t(615)]=n,document[t(567)](t(534)).disabled=n}function un(){const a=T;ye(),$t(),P(a(471)),document[a(567)]("connect")[a(456)]="连接"}async function kr(){const a=T;if(re!=null&&re.connected)K!=null&&K[a(683)].connected&&K[a(683)][a(643)]();else{$t();try{K=await navigator[a(569)][a(663)]({optionalServices:[a(445)],acceptAllDevices:!0})}catch(t){console[a(621)](t),t.message&&P(a(466)+t[a(447)]),P(a(587)),P(a(475)),P(a(655)),P(a(520));return}await K[a(482)](a(577),un),setTimeout(async function(){await sn()},300)}}async function Cr(){const a=T;K!=null&&K.gatt[a(652)]&&K[a(683)][a(643)](),$t(),P(a(616)),setTimeout(async function(){await sn()},300)}function Dr(a,t){const e=T,n=new Uint8Array(a[e(593)],a[e(630)],a[e(578)]);if(t==0){P(e(640)+bt(n));const c=document.getElementById(e(661)),l=document.getElementById("epd-driver");c[e(608)]=bt(n[e(448)](0,7)),n.length>10&&(c[e(608)]+=bt(n[e(448)](10,11))),l[e(608)]=bt(n[e(448)](7,8)),dn()}else{const c=qt[e(442)](n);if(c.startsWith(e(673))&&c.length>4){const l=parseInt(c[e(644)](4));document[e(567)](e(658)).value=l,P(e(675)+l)}else if(c[e(554)]("t=")&&c[e(549)]>2){const l=parseInt(c.substring(2))+new Date()[e(660)]()*60;P(e(646)+new Date(l*1e3)[e(659)]()),P(e(576)+new Date()[e(659)]())}else c[e(554)](e(500))&&c[e(549)]>4?jt=c[e(644)](4):c[e(554)](e(631))&&c[e(549)]>13?(Tt=c[e(644)](13)==="1",!Tt&&(document[e(567)]("clock-mode")[e(490)]=e(565),P(e(609)))):P(c,"⇓")}}async function sn(){const a=T;if(!(K==null||fe!=null)){try{P(a(597)+K.name),re=await K[a(683)][a(560)](),P(a(463)),mt=await re[a(485)](a(445)),P(a(497)),fe=await mt[a(601)](a(610)),P(a(502))}catch(t){console[a(621)](t),t[a(447)]&&P(a(508)+t[a(447)]),un();return}try{const t=await mt.getCharacteristic("62750003-d828-918d-fb46-b6c11c675aec"),e=await t[a(503)]();if(e.byteLength>1){const n=new Uint8Array(e[a(593)],e[a(630)],e[a(578)]);ce=qt[a(442)](n),P("固件版本: "+ce)}else ce=e[a(535)](0),P(a(665)+ce[a(612)](16)),document[a(567)](a(579))[a(555)].display=a(505)}catch(t){console[a(621)](t),ce=21}if(typeof ce===a(607)&&ce<22){const t=a(557);alert(a(645)),confirm(a(452))&&(location.href=t),setTimeout(()=>{P(a(628)+t)},500)}document.getElementById(a(579))[a(490)]=a(671);try{await fe[a(541)](),fe.addEventListener(a(681),t=>{const e=a;Dr(t[e(474)][e(608)],cn++)})}catch(t){console[a(621)](t),t.message&&P(a(653)+t.message)}await ee(ie[a(469)]),document.getElementById(a(560))[a(456)]="断开",ye()}}function P(a,t=""){const e=T,n=document.getElementById("log"),c=new Date,l=String(c[e(533)]())[e(596)](2,"0")+":"+String(c[e(573)]())[e(596)](2,"0")+":"+String(c[e(509)]())[e(596)](2,"0")+" ",s=document[e(574)](e(536)),f=document[e(574)](e(677));if(s[e(437)]="log-line",f.className="time",f[e(490)]=l,s[e(530)](f),t!==""){const u=document[e(574)](e(677));u[e(437)]=e(488),u[e(456)]=t,s[e(530)](u)}for(s[e(530)](document[e(622)](a)),n[e(530)](s),n[e(666)]=n[e(634)];n.childNodes[e(549)]>20;)n[e(632)](n.firstChild)}function Br(){const a=T;document[a(567)](a(484))[a(456)]=""}function ln(){const a=T,t=document.getElementById("image-file");if(t[a(538)][a(549)]==0){Ut(a(544));return}const e=new Image;e[a(559)]=function(){const n=a;URL[n(515)](this[n(454)]),e.width/e[n(582)]==k[n(571)]/k[n(582)]?(Z.isCropMode()&&Z[n(519)](),U[n(489)](e,0,0,e[n(571)],e[n(582)],0,0,k.width,k[n(582)]),_n()):(alert(n(636)),X[n(496)](null,""),Z[n(517)]())},e[a(454)]=URL.createObjectURL(t.files[0])}function hn(){const a=T,t=document[a(567)](a(595)).value,e=Sr[a(588)](n=>n[a(580)]===t);k[a(571)]=e[a(571)],k.height=e[a(582)],ln()}function dn(){const a=T,t=document[a(567)](a(637)),e=t[a(572)][t.selectedIndex],n=e[a(561)](a(510)),c=e[a(561)](a(440));n&&(document[a(567)](a(513))[a(608)]=n),c&&(document.getElementById(a(595))[a(608)]=c),hn()}function Fr(){const a=T,t=k.width,e=k[a(582)],n=U[a(618)](0,0,t,e);k.width=e,k[a(582)]=t;const c=document[a(574)](a(585));c[a(571)]=t,c[a(582)]=e,c[a(592)]("2d").putImageData(n,0,0),U[a(650)](k[a(571)]/2,k[a(582)]/2),U.rotate(90*Math.PI/180),U[a(489)](c,-t/2,-e/2),U[a(564)](1,0,0,1,0,0),X[a(524)](),X[a(441)](),X[a(546)]()}function Lr(){const a=T;return confirm("清除画布内容?")?(Ut("white"),X.clearElements(),Z.isCropMode()&&Z[a(519)](),X.saveToHistory(),!0):!1}function _n(){const a=T;X[a(472)]();const t=parseFloat(document[a(567)](a(522)).value),e=parseFloat(document[a(567)](a(493))[a(608)]),n=U[a(618)](0,0,k[a(571)],k.height),c=new ImageData(new Uint8ClampedArray(n[a(657)]),n[a(571)],n[a(582)]);pn(c,t),yn(c,e);const l=document.getElementById(a(552))[a(608)],s=parseFloat(document.getElementById(a(487))[a(608)]),f=document.getElementById(a(513))[a(608)],u=Rt(J0(c,l,s,f),f),r=Q0(u,k[a(571)],k[a(582)],f);U[a(600)](r,0,0),X.saveToHistory()}function pe(){Z[T(476)](()=>_n())}function Nr(){const a=T,t=(e,n,c)=>{const l=ke,s=document[l(567)](e);s&&s[l(482)](n,c)};t(a(560),a(670),()=>kr()),t("reconnect",a(670),()=>Cr()),t(a(444),a(670),()=>Br()),t(a(637),a(540),()=>dn()),t(a(595),a(540),()=>hn()),t("set-driver",a(670),()=>Tr()),t(a(495),a(670),()=>W0(1)),t(a(579),a(670),()=>W0(2)),t(a(599),a(670),()=>Mr()),t(a(518),a(670),()=>Ir()),t(a(455),a(540),()=>ln()),t(a(513),a(540),()=>pe()),t(a(552),a(540),()=>pe()),t(a(450),a(670),()=>Fr()),t("clear-canvas",a(670),()=>Lr()),t(a(453),a(670),()=>Pr()),t("send-image",a(670),()=>Rr()),t(a(487),a(545),e=>{const n=a;document[n(567)](n(481))[n(590)]=parseFloat(e[n(474)][n(608)])[n(586)](1),pe()}),t(a(522),"input",e=>{const n=a;document[n(567)]("dither-brightness-value").innerText=parseFloat(e[n(474)][n(608)]).toFixed(1),pe()}),t(a(493),a(545),e=>{const n=a;document[n(567)](n(584))[n(590)]=parseFloat(e[n(474)][n(608)])[n(586)](1),pe()}),t(a(627),"change",()=>X[a(473)]()),t(a(547),a(670),()=>X.loadTemplates()),t(a(507),a(670),()=>window[a(527)](a(531))),t(a(617),"click",()=>X[a(468)]()),t(a(667),a(670),()=>pe())}function jr(){const a=T,t=document[a(567)](a(620));new URLSearchParams(window.location.search)[a(542)](a(680))===a(551)?(document[a(566)][a(563)].add(a(623)),t[a(456)]=a(492),t[a(480)](a(467),window[a(516)][a(562)]),P("注意：开发模式功能已开启！不懂请不要随意修改，否则后果自负！")):(document[a(566)][a(563)][a(589)](a(623)),t[a(456)]=a(626),t[a(480)](a(467),window[a(516)][a(562)]+a(499)))}document[T(566)].onload=()=>{const a=T;qt=new TextDecoder,k=document.getElementById(a(585)),U=k[a(592)]("2d"),U[a(483)]=a(544),U.fillRect(0,0,k[a(571)],k.height),X=new Or(k,U),Z=new Ar(k,U),X[a(458)](),Z[a(556)](),Nr(),ye(),jr()};
